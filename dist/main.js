/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./node_modules/@google/generative-ai/dist/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@google/generative-ai/dist/index.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, exports) => {

"use strict";
eval("\n\n/**\n * Contains the list of OpenAPI data types\n * as defined by https://swagger.io/docs/specification/data-models/data-types/\n * @public\n */\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _regeneratorRuntime() { \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = \"function\" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || \"@@iterator\", asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\", toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, \"\"); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: \"normal\", arg: fn.call(obj, arg) }; } catch (err) { return { type: \"throw\", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { [\"next\", \"throw\", \"return\"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if (\"throw\" !== record.type) { var result = record.arg, value = result.value; return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke(\"next\", value, resolve, reject); }, function (err) { invoke(\"throw\", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke(\"throw\", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, \"_invoke\", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = \"suspendedStart\"; return function (method, arg) { if (\"executing\" === state) throw new Error(\"Generator is already running\"); if (\"completed\" === state) { if (\"throw\" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) { if (\"suspendedStart\" === state) throw state = \"completed\", context.arg; context.dispatchException(context.arg); } else \"return\" === context.method && context.abrupt(\"return\", context.arg); state = \"executing\"; var record = tryCatch(innerFn, self, context); if (\"normal\" === record.type) { if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, \"throw\" === methodName && delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method) || \"return\" !== methodName && (context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a '\" + methodName + \"' method\")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = \"normal\", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: \"root\" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if (\"function\" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) { if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; } return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, \"constructor\", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) { var ctor = \"function\" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, \"toString\", function () { return \"[object Generator]\"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) { keys.push(key); } return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) { \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); } }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if (\"throw\" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if (\"root\" === entry.tryLoc) return handle(\"end\"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, \"catchLoc\"), hasFinally = hasOwn.call(entry, \"finallyLoc\"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error(\"try statement without catch or finally\"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if (\"throw\" === record.type) throw record.arg; return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, \"catch\": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if (\"throw\" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error(\"illegal catch attempt\"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(arr, i) { var _i = null == arr ? null : \"undefined\" != typeof Symbol && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (null != _i) { var _s, _e, _x, _r, _arr = [], _n = !0, _d = !1; try { if (_x = (_i = _i.call(arr)).next, 0 === i) { if (Object(_i) !== _i) return; _n = !1; } else for (; !(_n = (_s = _x.call(_i)).done) && (_arr.push(_s.value), _arr.length !== i); _n = !0) { ; } } catch (err) { _d = !0, _e = err; } finally { try { if (!_n && null != _i[\"return\"] && (_r = _i[\"return\"](), Object(_r) !== _r)) return; } finally { if (_d) throw _e; } } return _arr; } }\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e2) { throw _e2; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e3) { didErr = true; err = _e3; }, f: function f() { try { if (!normalCompletion && it[\"return\"] != null) it[\"return\"](); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, _toPropertyKey(descriptor.key), descriptor); } }\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct.bind(); } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\nexports.FunctionDeclarationSchemaType = void 0;\n(function (FunctionDeclarationSchemaType) {\n  /** String type. */\n  FunctionDeclarationSchemaType[\"STRING\"] = \"STRING\";\n  /** Number type. */\n  FunctionDeclarationSchemaType[\"NUMBER\"] = \"NUMBER\";\n  /** Integer type. */\n  FunctionDeclarationSchemaType[\"INTEGER\"] = \"INTEGER\";\n  /** Boolean type. */\n  FunctionDeclarationSchemaType[\"BOOLEAN\"] = \"BOOLEAN\";\n  /** Array type. */\n  FunctionDeclarationSchemaType[\"ARRAY\"] = \"ARRAY\";\n  /** Object type. */\n  FunctionDeclarationSchemaType[\"OBJECT\"] = \"OBJECT\";\n})(exports.FunctionDeclarationSchemaType || (exports.FunctionDeclarationSchemaType = {}));\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @public\n */\nexports.ExecutableCodeLanguage = void 0;\n(function (ExecutableCodeLanguage) {\n  ExecutableCodeLanguage[\"LANGUAGE_UNSPECIFIED\"] = \"language_unspecified\";\n  ExecutableCodeLanguage[\"PYTHON\"] = \"python\";\n})(exports.ExecutableCodeLanguage || (exports.ExecutableCodeLanguage = {}));\n/**\n * Possible outcomes of code execution.\n * @public\n */\nexports.Outcome = void 0;\n(function (Outcome) {\n  /**\n   * Unspecified status. This value should not be used.\n   */\n  Outcome[\"OUTCOME_UNSPECIFIED\"] = \"outcome_unspecified\";\n  /**\n   * Code execution completed successfully.\n   */\n  Outcome[\"OUTCOME_OK\"] = \"outcome_ok\";\n  /**\n   * Code execution finished but with a failure. `stderr` should contain the\n   * reason.\n   */\n  Outcome[\"OUTCOME_FAILED\"] = \"outcome_failed\";\n  /**\n   * Code execution ran for too long, and was cancelled. There may or may not\n   * be a partial output present.\n   */\n  Outcome[\"OUTCOME_DEADLINE_EXCEEDED\"] = \"outcome_deadline_exceeded\";\n})(exports.Outcome || (exports.Outcome = {}));\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Possible roles.\n * @public\n */\nvar POSSIBLE_ROLES = [\"user\", \"model\", \"function\", \"system\"];\n/**\n * Harm categories that would cause prompts or candidates to be blocked.\n * @public\n */\nexports.HarmCategory = void 0;\n(function (HarmCategory) {\n  HarmCategory[\"HARM_CATEGORY_UNSPECIFIED\"] = \"HARM_CATEGORY_UNSPECIFIED\";\n  HarmCategory[\"HARM_CATEGORY_HATE_SPEECH\"] = \"HARM_CATEGORY_HATE_SPEECH\";\n  HarmCategory[\"HARM_CATEGORY_SEXUALLY_EXPLICIT\"] = \"HARM_CATEGORY_SEXUALLY_EXPLICIT\";\n  HarmCategory[\"HARM_CATEGORY_HARASSMENT\"] = \"HARM_CATEGORY_HARASSMENT\";\n  HarmCategory[\"HARM_CATEGORY_DANGEROUS_CONTENT\"] = \"HARM_CATEGORY_DANGEROUS_CONTENT\";\n})(exports.HarmCategory || (exports.HarmCategory = {}));\n/**\n * Threshold above which a prompt or candidate will be blocked.\n * @public\n */\nexports.HarmBlockThreshold = void 0;\n(function (HarmBlockThreshold) {\n  // Threshold is unspecified.\n  HarmBlockThreshold[\"HARM_BLOCK_THRESHOLD_UNSPECIFIED\"] = \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\";\n  // Content with NEGLIGIBLE will be allowed.\n  HarmBlockThreshold[\"BLOCK_LOW_AND_ABOVE\"] = \"BLOCK_LOW_AND_ABOVE\";\n  // Content with NEGLIGIBLE and LOW will be allowed.\n  HarmBlockThreshold[\"BLOCK_MEDIUM_AND_ABOVE\"] = \"BLOCK_MEDIUM_AND_ABOVE\";\n  // Content with NEGLIGIBLE, LOW, and MEDIUM will be allowed.\n  HarmBlockThreshold[\"BLOCK_ONLY_HIGH\"] = \"BLOCK_ONLY_HIGH\";\n  // All content will be allowed.\n  HarmBlockThreshold[\"BLOCK_NONE\"] = \"BLOCK_NONE\";\n})(exports.HarmBlockThreshold || (exports.HarmBlockThreshold = {}));\n/**\n * Probability that a prompt or candidate matches a harm category.\n * @public\n */\nexports.HarmProbability = void 0;\n(function (HarmProbability) {\n  // Probability is unspecified.\n  HarmProbability[\"HARM_PROBABILITY_UNSPECIFIED\"] = \"HARM_PROBABILITY_UNSPECIFIED\";\n  // Content has a negligible chance of being unsafe.\n  HarmProbability[\"NEGLIGIBLE\"] = \"NEGLIGIBLE\";\n  // Content has a low chance of being unsafe.\n  HarmProbability[\"LOW\"] = \"LOW\";\n  // Content has a medium chance of being unsafe.\n  HarmProbability[\"MEDIUM\"] = \"MEDIUM\";\n  // Content has a high chance of being unsafe.\n  HarmProbability[\"HIGH\"] = \"HIGH\";\n})(exports.HarmProbability || (exports.HarmProbability = {}));\n/**\n * Reason that a prompt was blocked.\n * @public\n */\nexports.BlockReason = void 0;\n(function (BlockReason) {\n  // A blocked reason was not specified.\n  BlockReason[\"BLOCKED_REASON_UNSPECIFIED\"] = \"BLOCKED_REASON_UNSPECIFIED\";\n  // Content was blocked by safety settings.\n  BlockReason[\"SAFETY\"] = \"SAFETY\";\n  // Content was blocked, but the reason is uncategorized.\n  BlockReason[\"OTHER\"] = \"OTHER\";\n})(exports.BlockReason || (exports.BlockReason = {}));\n/**\n * Reason that a candidate finished.\n * @public\n */\nexports.FinishReason = void 0;\n(function (FinishReason) {\n  // Default value. This value is unused.\n  FinishReason[\"FINISH_REASON_UNSPECIFIED\"] = \"FINISH_REASON_UNSPECIFIED\";\n  // Natural stop point of the model or provided stop sequence.\n  FinishReason[\"STOP\"] = \"STOP\";\n  // The maximum number of tokens as specified in the request was reached.\n  FinishReason[\"MAX_TOKENS\"] = \"MAX_TOKENS\";\n  // The candidate content was flagged for safety reasons.\n  FinishReason[\"SAFETY\"] = \"SAFETY\";\n  // The candidate content was flagged for recitation reasons.\n  FinishReason[\"RECITATION\"] = \"RECITATION\";\n  // Unknown reason.\n  FinishReason[\"OTHER\"] = \"OTHER\";\n})(exports.FinishReason || (exports.FinishReason = {}));\n/**\n * Task type for embedding content.\n * @public\n */\nexports.TaskType = void 0;\n(function (TaskType) {\n  TaskType[\"TASK_TYPE_UNSPECIFIED\"] = \"TASK_TYPE_UNSPECIFIED\";\n  TaskType[\"RETRIEVAL_QUERY\"] = \"RETRIEVAL_QUERY\";\n  TaskType[\"RETRIEVAL_DOCUMENT\"] = \"RETRIEVAL_DOCUMENT\";\n  TaskType[\"SEMANTIC_SIMILARITY\"] = \"SEMANTIC_SIMILARITY\";\n  TaskType[\"CLASSIFICATION\"] = \"CLASSIFICATION\";\n  TaskType[\"CLUSTERING\"] = \"CLUSTERING\";\n})(exports.TaskType || (exports.TaskType = {}));\n/**\n * @public\n */\nexports.FunctionCallingMode = void 0;\n(function (FunctionCallingMode) {\n  // Unspecified function calling mode. This value should not be used.\n  FunctionCallingMode[\"MODE_UNSPECIFIED\"] = \"MODE_UNSPECIFIED\";\n  // Default model behavior, model decides to predict either a function call\n  // or a natural language repspose.\n  FunctionCallingMode[\"AUTO\"] = \"AUTO\";\n  // Model is constrained to always predicting a function call only.\n  // If \"allowed_function_names\" are set, the predicted function call will be\n  // limited to any one of \"allowed_function_names\", else the predicted\n  // function call will be any one of the provided \"function_declarations\".\n  FunctionCallingMode[\"ANY\"] = \"ANY\";\n  // Model will not predict any function call. Model behavior is same as when\n  // not passing any function declarations.\n  FunctionCallingMode[\"NONE\"] = \"NONE\";\n})(exports.FunctionCallingMode || (exports.FunctionCallingMode = {}));\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Basic error type for this SDK.\n * @public\n */\nvar GoogleGenerativeAIError = /*#__PURE__*/function (_Error) {\n  _inherits(GoogleGenerativeAIError, _Error);\n  var _super = _createSuper(GoogleGenerativeAIError);\n  function GoogleGenerativeAIError(message) {\n    _classCallCheck(this, GoogleGenerativeAIError);\n    return _super.call(this, \"[GoogleGenerativeAI Error]: \".concat(message));\n  }\n  return _createClass(GoogleGenerativeAIError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n/**\n * Errors in the contents of a response from the model. This includes parsing\n * errors, or responses including a safety block reason.\n * @public\n */\nvar GoogleGenerativeAIResponseError = /*#__PURE__*/function (_GoogleGenerativeAIEr) {\n  _inherits(GoogleGenerativeAIResponseError, _GoogleGenerativeAIEr);\n  var _super2 = _createSuper(GoogleGenerativeAIResponseError);\n  function GoogleGenerativeAIResponseError(message, response) {\n    var _this;\n    _classCallCheck(this, GoogleGenerativeAIResponseError);\n    _this = _super2.call(this, message);\n    _this.response = response;\n    return _this;\n  }\n  return _createClass(GoogleGenerativeAIResponseError);\n}(GoogleGenerativeAIError);\n/**\n * Error class covering HTTP errors when calling the server. Includes HTTP\n * status, statusText, and optional details, if provided in the server response.\n * @public\n */\nvar GoogleGenerativeAIFetchError = /*#__PURE__*/function (_GoogleGenerativeAIEr2) {\n  _inherits(GoogleGenerativeAIFetchError, _GoogleGenerativeAIEr2);\n  var _super3 = _createSuper(GoogleGenerativeAIFetchError);\n  function GoogleGenerativeAIFetchError(message, status, statusText, errorDetails) {\n    var _this2;\n    _classCallCheck(this, GoogleGenerativeAIFetchError);\n    _this2 = _super3.call(this, message);\n    _this2.status = status;\n    _this2.statusText = statusText;\n    _this2.errorDetails = errorDetails;\n    return _this2;\n  }\n  return _createClass(GoogleGenerativeAIFetchError);\n}(GoogleGenerativeAIError);\n/**\n * Errors in the contents of a request originating from user input.\n * @public\n */\nvar GoogleGenerativeAIRequestInputError = /*#__PURE__*/function (_GoogleGenerativeAIEr3) {\n  _inherits(GoogleGenerativeAIRequestInputError, _GoogleGenerativeAIEr3);\n  var _super4 = _createSuper(GoogleGenerativeAIRequestInputError);\n  function GoogleGenerativeAIRequestInputError() {\n    _classCallCheck(this, GoogleGenerativeAIRequestInputError);\n    return _super4.apply(this, arguments);\n  }\n  return _createClass(GoogleGenerativeAIRequestInputError);\n}(GoogleGenerativeAIError);\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar DEFAULT_BASE_URL = \"https://generativelanguage.googleapis.com\";\nvar DEFAULT_API_VERSION = \"v1beta\";\n/**\n * We can't `require` package.json if this runs on web. We will use rollup to\n * swap in the version number here at build time.\n */\nvar PACKAGE_VERSION = \"0.14.1\";\nvar PACKAGE_LOG_HEADER = \"genai-js\";\nvar Task;\n(function (Task) {\n  Task[\"GENERATE_CONTENT\"] = \"generateContent\";\n  Task[\"STREAM_GENERATE_CONTENT\"] = \"streamGenerateContent\";\n  Task[\"COUNT_TOKENS\"] = \"countTokens\";\n  Task[\"EMBED_CONTENT\"] = \"embedContent\";\n  Task[\"BATCH_EMBED_CONTENTS\"] = \"batchEmbedContents\";\n})(Task || (Task = {}));\nvar RequestUrl = /*#__PURE__*/function () {\n  function RequestUrl(model, task, apiKey, stream, requestOptions) {\n    _classCallCheck(this, RequestUrl);\n    this.model = model;\n    this.task = task;\n    this.apiKey = apiKey;\n    this.stream = stream;\n    this.requestOptions = requestOptions;\n  }\n  _createClass(RequestUrl, [{\n    key: \"toString\",\n    value: function toString() {\n      var _a, _b;\n      var apiVersion = ((_a = this.requestOptions) === null || _a === void 0 ? void 0 : _a.apiVersion) || DEFAULT_API_VERSION;\n      var baseUrl = ((_b = this.requestOptions) === null || _b === void 0 ? void 0 : _b.baseUrl) || DEFAULT_BASE_URL;\n      var url = \"\".concat(baseUrl, \"/\").concat(apiVersion, \"/\").concat(this.model, \":\").concat(this.task);\n      if (this.stream) {\n        url += \"?alt=sse\";\n      }\n      return url;\n    }\n  }]);\n  return RequestUrl;\n}();\n/**\n * Simple, but may become more complex if we add more versions to log.\n */\nfunction getClientHeaders(requestOptions) {\n  var clientHeaders = [];\n  if (requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.apiClient) {\n    clientHeaders.push(requestOptions.apiClient);\n  }\n  clientHeaders.push(\"\".concat(PACKAGE_LOG_HEADER, \"/\").concat(PACKAGE_VERSION));\n  return clientHeaders.join(\" \");\n}\nfunction getHeaders(_x) {\n  return _getHeaders.apply(this, arguments);\n}\nfunction _getHeaders() {\n  _getHeaders = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee9(url) {\n    var _a, headers, customHeaders, _iterator10, _step10, _step10$value, headerName, headerValue;\n    return _regeneratorRuntime().wrap(function _callee9$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            headers = new Headers();\n            headers.append(\"Content-Type\", \"application/json\");\n            headers.append(\"x-goog-api-client\", getClientHeaders(url.requestOptions));\n            headers.append(\"x-goog-api-key\", url.apiKey);\n            customHeaders = (_a = url.requestOptions) === null || _a === void 0 ? void 0 : _a.customHeaders;\n            if (!customHeaders) {\n              _context10.next = 36;\n              break;\n            }\n            if (customHeaders instanceof Headers) {\n              _context10.next = 14;\n              break;\n            }\n            _context10.prev = 7;\n            customHeaders = new Headers(customHeaders);\n            _context10.next = 14;\n            break;\n          case 11:\n            _context10.prev = 11;\n            _context10.t0 = _context10[\"catch\"](7);\n            throw new GoogleGenerativeAIRequestInputError(\"unable to convert customHeaders value \".concat(JSON.stringify(customHeaders), \" to Headers: \").concat(_context10.t0.message));\n          case 14:\n            _iterator10 = _createForOfIteratorHelper(customHeaders.entries());\n            _context10.prev = 15;\n            _iterator10.s();\n          case 17:\n            if ((_step10 = _iterator10.n()).done) {\n              _context10.next = 28;\n              break;\n            }\n            _step10$value = _slicedToArray(_step10.value, 2), headerName = _step10$value[0], headerValue = _step10$value[1];\n            if (!(headerName === \"x-goog-api-key\")) {\n              _context10.next = 23;\n              break;\n            }\n            throw new GoogleGenerativeAIRequestInputError(\"Cannot set reserved header name \".concat(headerName));\n          case 23:\n            if (!(headerName === \"x-goog-api-client\")) {\n              _context10.next = 25;\n              break;\n            }\n            throw new GoogleGenerativeAIRequestInputError(\"Header name \".concat(headerName, \" can only be set using the apiClient field\"));\n          case 25:\n            headers.append(headerName, headerValue);\n          case 26:\n            _context10.next = 17;\n            break;\n          case 28:\n            _context10.next = 33;\n            break;\n          case 30:\n            _context10.prev = 30;\n            _context10.t1 = _context10[\"catch\"](15);\n            _iterator10.e(_context10.t1);\n          case 33:\n            _context10.prev = 33;\n            _iterator10.f();\n            return _context10.finish(33);\n          case 36:\n            return _context10.abrupt(\"return\", headers);\n          case 37:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee9, null, [[7, 11], [15, 30, 33, 36]]);\n  }));\n  return _getHeaders.apply(this, arguments);\n}\nfunction constructModelRequest(_x2, _x3, _x4, _x5, _x6, _x7) {\n  return _constructModelRequest.apply(this, arguments);\n}\nfunction _constructModelRequest() {\n  _constructModelRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee10(model, task, apiKey, stream, body, requestOptions) {\n    var url;\n    return _regeneratorRuntime().wrap(function _callee10$(_context11) {\n      while (1) {\n        switch (_context11.prev = _context11.next) {\n          case 0:\n            url = new RequestUrl(model, task, apiKey, stream, requestOptions);\n            _context11.t0 = url.toString();\n            _context11.t1 = Object;\n            _context11.t2 = Object.assign({}, buildFetchOptions(requestOptions));\n            _context11.next = 6;\n            return getHeaders(url);\n          case 6:\n            _context11.t3 = _context11.sent;\n            _context11.t4 = body;\n            _context11.t5 = {\n              method: \"POST\",\n              headers: _context11.t3,\n              body: _context11.t4\n            };\n            _context11.t6 = _context11.t1.assign.call(_context11.t1, _context11.t2, _context11.t5);\n            return _context11.abrupt(\"return\", {\n              url: _context11.t0,\n              fetchOptions: _context11.t6\n            });\n          case 11:\n          case \"end\":\n            return _context11.stop();\n        }\n      }\n    }, _callee10);\n  }));\n  return _constructModelRequest.apply(this, arguments);\n}\nfunction makeModelRequest(_x8, _x9, _x10, _x11, _x12, _x13) {\n  return _makeModelRequest.apply(this, arguments);\n}\nfunction _makeModelRequest() {\n  _makeModelRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee11(model, task, apiKey, stream, body, requestOptions) {\n    var fetchFn,\n      _yield$constructModel,\n      url,\n      fetchOptions,\n      _args12 = arguments;\n    return _regeneratorRuntime().wrap(function _callee11$(_context12) {\n      while (1) {\n        switch (_context12.prev = _context12.next) {\n          case 0:\n            fetchFn = _args12.length > 6 && _args12[6] !== undefined ? _args12[6] : fetch;\n            _context12.next = 3;\n            return constructModelRequest(model, task, apiKey, stream, body, requestOptions);\n          case 3:\n            _yield$constructModel = _context12.sent;\n            url = _yield$constructModel.url;\n            fetchOptions = _yield$constructModel.fetchOptions;\n            return _context12.abrupt(\"return\", makeRequest(url, fetchOptions, fetchFn));\n          case 7:\n          case \"end\":\n            return _context12.stop();\n        }\n      }\n    }, _callee11);\n  }));\n  return _makeModelRequest.apply(this, arguments);\n}\nfunction makeRequest(_x14, _x15) {\n  return _makeRequest.apply(this, arguments);\n}\nfunction _makeRequest() {\n  _makeRequest = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee12(url, fetchOptions) {\n    var fetchFn,\n      response,\n      _args13 = arguments;\n    return _regeneratorRuntime().wrap(function _callee12$(_context13) {\n      while (1) {\n        switch (_context13.prev = _context13.next) {\n          case 0:\n            fetchFn = _args13.length > 2 && _args13[2] !== undefined ? _args13[2] : fetch;\n            _context13.prev = 1;\n            _context13.next = 4;\n            return fetchFn(url, fetchOptions);\n          case 4:\n            response = _context13.sent;\n            _context13.next = 10;\n            break;\n          case 7:\n            _context13.prev = 7;\n            _context13.t0 = _context13[\"catch\"](1);\n            handleResponseError(_context13.t0, url);\n          case 10:\n            if (response.ok) {\n              _context13.next = 13;\n              break;\n            }\n            _context13.next = 13;\n            return handleResponseNotOk(response, url);\n          case 13:\n            return _context13.abrupt(\"return\", response);\n          case 14:\n          case \"end\":\n            return _context13.stop();\n        }\n      }\n    }, _callee12, null, [[1, 7]]);\n  }));\n  return _makeRequest.apply(this, arguments);\n}\nfunction handleResponseError(e, url) {\n  var err = e;\n  if (!(e instanceof GoogleGenerativeAIFetchError || e instanceof GoogleGenerativeAIRequestInputError)) {\n    err = new GoogleGenerativeAIError(\"Error fetching from \".concat(url.toString(), \": \").concat(e.message));\n    err.stack = e.stack;\n  }\n  throw err;\n}\nfunction handleResponseNotOk(_x16, _x17) {\n  return _handleResponseNotOk.apply(this, arguments);\n}\n/**\n * Generates the request options to be passed to the fetch API.\n * @param requestOptions - The user-defined request options.\n * @returns The generated request options.\n */\nfunction _handleResponseNotOk() {\n  _handleResponseNotOk = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee13(response, url) {\n    var message, errorDetails, json;\n    return _regeneratorRuntime().wrap(function _callee13$(_context14) {\n      while (1) {\n        switch (_context14.prev = _context14.next) {\n          case 0:\n            message = \"\";\n            _context14.prev = 1;\n            _context14.next = 4;\n            return response.json();\n          case 4:\n            json = _context14.sent;\n            message = json.error.message;\n            if (json.error.details) {\n              message += \" \".concat(JSON.stringify(json.error.details));\n              errorDetails = json.error.details;\n            }\n            _context14.next = 11;\n            break;\n          case 9:\n            _context14.prev = 9;\n            _context14.t0 = _context14[\"catch\"](1);\n          case 11:\n            throw new GoogleGenerativeAIFetchError(\"Error fetching from \".concat(url.toString(), \": [\").concat(response.status, \" \").concat(response.statusText, \"] \").concat(message), response.status, response.statusText, errorDetails);\n          case 12:\n          case \"end\":\n            return _context14.stop();\n        }\n      }\n    }, _callee13, null, [[1, 9]]);\n  }));\n  return _handleResponseNotOk.apply(this, arguments);\n}\nfunction buildFetchOptions(requestOptions) {\n  var fetchOptions = {};\n  if ((requestOptions === null || requestOptions === void 0 ? void 0 : requestOptions.timeout) >= 0) {\n    var abortController = new AbortController();\n    var signal = abortController.signal;\n    setTimeout(function () {\n      return abortController.abort();\n    }, requestOptions.timeout);\n    fetchOptions.signal = signal;\n  }\n  return fetchOptions;\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Adds convenience helper methods to a response object, including stream\n * chunks (as long as each chunk is a complete GenerateContentResponse JSON).\n */\nfunction addHelpers(response) {\n  response.text = function () {\n    if (response.candidates && response.candidates.length > 0) {\n      if (response.candidates.length > 1) {\n        console.warn(\"This response had \".concat(response.candidates.length, \" \") + \"candidates. Returning text from the first candidate only. \" + \"Access response.candidates directly to use the other candidates.\");\n      }\n      if (hadBadFinishReason(response.candidates[0])) {\n        throw new GoogleGenerativeAIResponseError(\"\".concat(formatBlockErrorMessage(response)), response);\n      }\n      return getText(response);\n    } else if (response.promptFeedback) {\n      throw new GoogleGenerativeAIResponseError(\"Text not available. \".concat(formatBlockErrorMessage(response)), response);\n    }\n    return \"\";\n  };\n  /**\n   * TODO: remove at next major version\n   */\n  response.functionCall = function () {\n    if (response.candidates && response.candidates.length > 0) {\n      if (response.candidates.length > 1) {\n        console.warn(\"This response had \".concat(response.candidates.length, \" \") + \"candidates. Returning function calls from the first candidate only. \" + \"Access response.candidates directly to use the other candidates.\");\n      }\n      if (hadBadFinishReason(response.candidates[0])) {\n        throw new GoogleGenerativeAIResponseError(\"\".concat(formatBlockErrorMessage(response)), response);\n      }\n      console.warn(\"response.functionCall() is deprecated. \" + \"Use response.functionCalls() instead.\");\n      return getFunctionCalls(response)[0];\n    } else if (response.promptFeedback) {\n      throw new GoogleGenerativeAIResponseError(\"Function call not available. \".concat(formatBlockErrorMessage(response)), response);\n    }\n    return undefined;\n  };\n  response.functionCalls = function () {\n    if (response.candidates && response.candidates.length > 0) {\n      if (response.candidates.length > 1) {\n        console.warn(\"This response had \".concat(response.candidates.length, \" \") + \"candidates. Returning function calls from the first candidate only. \" + \"Access response.candidates directly to use the other candidates.\");\n      }\n      if (hadBadFinishReason(response.candidates[0])) {\n        throw new GoogleGenerativeAIResponseError(\"\".concat(formatBlockErrorMessage(response)), response);\n      }\n      return getFunctionCalls(response);\n    } else if (response.promptFeedback) {\n      throw new GoogleGenerativeAIResponseError(\"Function call not available. \".concat(formatBlockErrorMessage(response)), response);\n    }\n    return undefined;\n  };\n  return response;\n}\n/**\n * Returns all text found in all parts of first candidate.\n */\nfunction getText(response) {\n  var _a, _b, _c, _d;\n  var textStrings = [];\n  if ((_b = (_a = response.candidates) === null || _a === void 0 ? void 0 : _a[0].content) === null || _b === void 0 ? void 0 : _b.parts) {\n    var _iterator = _createForOfIteratorHelper((_d = (_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0].content) === null || _d === void 0 ? void 0 : _d.parts),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var part = _step.value;\n        if (part.text) {\n          textStrings.push(part.text);\n        }\n        if (part.executableCode) {\n          textStrings.push(\"\\n```python\\n\" + part.executableCode.code + \"\\n```\\n\");\n        }\n        if (part.codeExecutionResult) {\n          textStrings.push(\"\\n```\\n\" + part.codeExecutionResult.output + \"\\n```\\n\");\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  if (textStrings.length > 0) {\n    return textStrings.join(\"\");\n  } else {\n    return \"\";\n  }\n}\n/**\n * Returns functionCall of first candidate.\n */\nfunction getFunctionCalls(response) {\n  var _a, _b, _c, _d;\n  var functionCalls = [];\n  if ((_b = (_a = response.candidates) === null || _a === void 0 ? void 0 : _a[0].content) === null || _b === void 0 ? void 0 : _b.parts) {\n    var _iterator2 = _createForOfIteratorHelper((_d = (_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0].content) === null || _d === void 0 ? void 0 : _d.parts),\n      _step2;\n    try {\n      for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var part = _step2.value;\n        if (part.functionCall) {\n          functionCalls.push(part.functionCall);\n        }\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n  if (functionCalls.length > 0) {\n    return functionCalls;\n  } else {\n    return undefined;\n  }\n}\nvar badFinishReasons = [exports.FinishReason.RECITATION, exports.FinishReason.SAFETY];\nfunction hadBadFinishReason(candidate) {\n  return !!candidate.finishReason && badFinishReasons.includes(candidate.finishReason);\n}\nfunction formatBlockErrorMessage(response) {\n  var _a, _b, _c;\n  var message = \"\";\n  if ((!response.candidates || response.candidates.length === 0) && response.promptFeedback) {\n    message += \"Response was blocked\";\n    if ((_a = response.promptFeedback) === null || _a === void 0 ? void 0 : _a.blockReason) {\n      message += \" due to \".concat(response.promptFeedback.blockReason);\n    }\n    if ((_b = response.promptFeedback) === null || _b === void 0 ? void 0 : _b.blockReasonMessage) {\n      message += \": \".concat(response.promptFeedback.blockReasonMessage);\n    }\n  } else if ((_c = response.candidates) === null || _c === void 0 ? void 0 : _c[0]) {\n    var firstCandidate = response.candidates[0];\n    if (hadBadFinishReason(firstCandidate)) {\n      message += \"Candidate was blocked due to \".concat(firstCandidate.finishReason);\n      if (firstCandidate.finishMessage) {\n        message += \": \".concat(firstCandidate.finishMessage);\n      }\n    }\n  }\n  return message;\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nfunction __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nfunction __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n    i,\n    q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n  function verb(n) {\n    if (g[n]) i[n] = function (v) {\n      return new Promise(function (a, b) {\n        q.push([n, v, a, b]) > 1 || resume(n, v);\n      });\n    };\n  }\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nvar responseLineRE = /^data\\: (.*)(?:\\n\\n|\\r\\r|\\r\\n\\r\\n)/;\n/**\n * Process a response.body stream from the backend and return an\n * iterator that provides one complete GenerateContentResponse at a time\n * and a promise that resolves with a single aggregated\n * GenerateContentResponse.\n *\n * @param response - Response from a fetch call\n */\nfunction processStream(response) {\n  var inputStream = response.body.pipeThrough(new TextDecoderStream(\"utf8\", {\n    fatal: true\n  }));\n  var responseStream = getResponseStream(inputStream);\n  var _responseStream$tee = responseStream.tee(),\n    _responseStream$tee2 = _slicedToArray(_responseStream$tee, 2),\n    stream1 = _responseStream$tee2[0],\n    stream2 = _responseStream$tee2[1];\n  return {\n    stream: generateResponseSequence(stream1),\n    response: getResponsePromise(stream2)\n  };\n}\nfunction getResponsePromise(_x18) {\n  return _getResponsePromise.apply(this, arguments);\n}\nfunction _getResponsePromise() {\n  _getResponsePromise = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee14(stream) {\n    var allResponses, reader, _yield$reader$read, done, value;\n    return _regeneratorRuntime().wrap(function _callee14$(_context15) {\n      while (1) {\n        switch (_context15.prev = _context15.next) {\n          case 0:\n            allResponses = [];\n            reader = stream.getReader();\n          case 2:\n            if (false) {}\n            _context15.next = 5;\n            return reader.read();\n          case 5:\n            _yield$reader$read = _context15.sent;\n            done = _yield$reader$read.done;\n            value = _yield$reader$read.value;\n            if (!done) {\n              _context15.next = 10;\n              break;\n            }\n            return _context15.abrupt(\"return\", addHelpers(aggregateResponses(allResponses)));\n          case 10:\n            allResponses.push(value);\n            _context15.next = 2;\n            break;\n          case 13:\n          case \"end\":\n            return _context15.stop();\n        }\n      }\n    }, _callee14);\n  }));\n  return _getResponsePromise.apply(this, arguments);\n}\nfunction generateResponseSequence(stream) {\n  return __asyncGenerator(this, arguments, /*#__PURE__*/_regeneratorRuntime().mark(function generateResponseSequence_1() {\n    var reader, _yield$__await, value, done;\n    return _regeneratorRuntime().wrap(function generateResponseSequence_1$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            reader = stream.getReader();\n          case 1:\n            if (false) {}\n            _context.next = 4;\n            return __await(reader.read());\n          case 4:\n            _yield$__await = _context.sent;\n            value = _yield$__await.value;\n            done = _yield$__await.done;\n            if (!done) {\n              _context.next = 9;\n              break;\n            }\n            return _context.abrupt(\"break\", 15);\n          case 9:\n            _context.next = 11;\n            return __await(addHelpers(value));\n          case 11:\n            _context.next = 13;\n            return _context.sent;\n          case 13:\n            _context.next = 1;\n            break;\n          case 15:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, generateResponseSequence_1);\n  }));\n}\n/**\n * Reads a raw stream from the fetch response and join incomplete\n * chunks, returning a new stream that provides a single complete\n * GenerateContentResponse in each iteration.\n */\nfunction getResponseStream(inputStream) {\n  var reader = inputStream.getReader();\n  var stream = new ReadableStream({\n    start: function start(controller) {\n      var currentText = \"\";\n      return pump();\n      function pump() {\n        return reader.read().then(function (_ref) {\n          var value = _ref.value,\n            done = _ref.done;\n          if (done) {\n            if (currentText.trim()) {\n              controller.error(new GoogleGenerativeAIError(\"Failed to parse stream\"));\n              return;\n            }\n            controller.close();\n            return;\n          }\n          currentText += value;\n          var match = currentText.match(responseLineRE);\n          var parsedResponse;\n          while (match) {\n            try {\n              parsedResponse = JSON.parse(match[1]);\n            } catch (e) {\n              controller.error(new GoogleGenerativeAIError(\"Error parsing JSON response: \\\"\".concat(match[1], \"\\\"\")));\n              return;\n            }\n            controller.enqueue(parsedResponse);\n            currentText = currentText.substring(match[0].length);\n            match = currentText.match(responseLineRE);\n          }\n          return pump();\n        });\n      }\n    }\n  });\n  return stream;\n}\n/**\n * Aggregates an array of `GenerateContentResponse`s into a single\n * GenerateContentResponse.\n */\nfunction aggregateResponses(responses) {\n  var lastResponse = responses[responses.length - 1];\n  var aggregatedResponse = {\n    promptFeedback: lastResponse === null || lastResponse === void 0 ? void 0 : lastResponse.promptFeedback\n  };\n  var _iterator3 = _createForOfIteratorHelper(responses),\n    _step3;\n  try {\n    for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n      var response = _step3.value;\n      if (response.candidates) {\n        var _iterator4 = _createForOfIteratorHelper(response.candidates),\n          _step4;\n        try {\n          for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n            var candidate = _step4.value;\n            var i = candidate.index;\n            if (!aggregatedResponse.candidates) {\n              aggregatedResponse.candidates = [];\n            }\n            if (!aggregatedResponse.candidates[i]) {\n              aggregatedResponse.candidates[i] = {\n                index: candidate.index\n              };\n            }\n            // Keep overwriting, the last one will be final\n            aggregatedResponse.candidates[i].citationMetadata = candidate.citationMetadata;\n            aggregatedResponse.candidates[i].finishReason = candidate.finishReason;\n            aggregatedResponse.candidates[i].finishMessage = candidate.finishMessage;\n            aggregatedResponse.candidates[i].safetyRatings = candidate.safetyRatings;\n            /**\n             * Candidates should always have content and parts, but this handles\n             * possible malformed responses.\n             */\n            if (candidate.content && candidate.content.parts) {\n              if (!aggregatedResponse.candidates[i].content) {\n                aggregatedResponse.candidates[i].content = {\n                  role: candidate.content.role || \"user\",\n                  parts: []\n                };\n              }\n              var newPart = {};\n              var _iterator5 = _createForOfIteratorHelper(candidate.content.parts),\n                _step5;\n              try {\n                for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n                  var part = _step5.value;\n                  if (part.text) {\n                    newPart.text = part.text;\n                  }\n                  if (part.functionCall) {\n                    newPart.functionCall = part.functionCall;\n                  }\n                  if (part.executableCode) {\n                    newPart.executableCode = part.executableCode;\n                  }\n                  if (part.codeExecutionResult) {\n                    newPart.codeExecutionResult = part.codeExecutionResult;\n                  }\n                  if (Object.keys(newPart).length === 0) {\n                    newPart.text = \"\";\n                  }\n                  aggregatedResponse.candidates[i].content.parts.push(newPart);\n                }\n              } catch (err) {\n                _iterator5.e(err);\n              } finally {\n                _iterator5.f();\n              }\n            }\n          }\n        } catch (err) {\n          _iterator4.e(err);\n        } finally {\n          _iterator4.f();\n        }\n      }\n      if (response.usageMetadata) {\n        aggregatedResponse.usageMetadata = response.usageMetadata;\n      }\n    }\n  } catch (err) {\n    _iterator3.e(err);\n  } finally {\n    _iterator3.f();\n  }\n  return aggregatedResponse;\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction _generateContentStream2(_x19, _x20, _x21, _x22) {\n  return _generateContentStream.apply(this, arguments);\n}\nfunction _generateContentStream() {\n  _generateContentStream = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee15(apiKey, model, params, requestOptions) {\n    var response;\n    return _regeneratorRuntime().wrap(function _callee15$(_context16) {\n      while (1) {\n        switch (_context16.prev = _context16.next) {\n          case 0:\n            _context16.next = 2;\n            return makeModelRequest(model, Task.STREAM_GENERATE_CONTENT, apiKey, /* stream */true, JSON.stringify(params), requestOptions);\n          case 2:\n            response = _context16.sent;\n            return _context16.abrupt(\"return\", processStream(response));\n          case 4:\n          case \"end\":\n            return _context16.stop();\n        }\n      }\n    }, _callee15);\n  }));\n  return _generateContentStream.apply(this, arguments);\n}\nfunction _generateContent2(_x23, _x24, _x25, _x26) {\n  return _generateContent.apply(this, arguments);\n}\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction _generateContent() {\n  _generateContent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee16(apiKey, model, params, requestOptions) {\n    var response, responseJson, enhancedResponse;\n    return _regeneratorRuntime().wrap(function _callee16$(_context17) {\n      while (1) {\n        switch (_context17.prev = _context17.next) {\n          case 0:\n            _context17.next = 2;\n            return makeModelRequest(model, Task.GENERATE_CONTENT, apiKey, /* stream */false, JSON.stringify(params), requestOptions);\n          case 2:\n            response = _context17.sent;\n            _context17.next = 5;\n            return response.json();\n          case 5:\n            responseJson = _context17.sent;\n            enhancedResponse = addHelpers(responseJson);\n            return _context17.abrupt(\"return\", {\n              response: enhancedResponse\n            });\n          case 8:\n          case \"end\":\n            return _context17.stop();\n        }\n      }\n    }, _callee16);\n  }));\n  return _generateContent.apply(this, arguments);\n}\nfunction formatSystemInstruction(input) {\n  // null or undefined\n  if (input == null) {\n    return undefined;\n  } else if (typeof input === \"string\") {\n    return {\n      role: \"system\",\n      parts: [{\n        text: input\n      }]\n    };\n  } else if (input.text) {\n    return {\n      role: \"system\",\n      parts: [input]\n    };\n  } else if (input.parts) {\n    if (!input.role) {\n      return {\n        role: \"system\",\n        parts: input.parts\n      };\n    } else {\n      return input;\n    }\n  }\n}\nfunction formatNewContent(request) {\n  var newParts = [];\n  if (typeof request === \"string\") {\n    newParts = [{\n      text: request\n    }];\n  } else {\n    var _iterator6 = _createForOfIteratorHelper(request),\n      _step6;\n    try {\n      for (_iterator6.s(); !(_step6 = _iterator6.n()).done;) {\n        var partOrString = _step6.value;\n        if (typeof partOrString === \"string\") {\n          newParts.push({\n            text: partOrString\n          });\n        } else {\n          newParts.push(partOrString);\n        }\n      }\n    } catch (err) {\n      _iterator6.e(err);\n    } finally {\n      _iterator6.f();\n    }\n  }\n  return assignRoleToPartsAndValidateSendMessageRequest(newParts);\n}\n/**\n * When multiple Part types (i.e. FunctionResponsePart and TextPart) are\n * passed in a single Part array, we may need to assign different roles to each\n * part. Currently only FunctionResponsePart requires a role other than 'user'.\n * @private\n * @param parts Array of parts to pass to the model\n * @returns Array of content items\n */\nfunction assignRoleToPartsAndValidateSendMessageRequest(parts) {\n  var userContent = {\n    role: \"user\",\n    parts: []\n  };\n  var functionContent = {\n    role: \"function\",\n    parts: []\n  };\n  var hasUserContent = false;\n  var hasFunctionContent = false;\n  var _iterator7 = _createForOfIteratorHelper(parts),\n    _step7;\n  try {\n    for (_iterator7.s(); !(_step7 = _iterator7.n()).done;) {\n      var part = _step7.value;\n      if (\"functionResponse\" in part) {\n        functionContent.parts.push(part);\n        hasFunctionContent = true;\n      } else {\n        userContent.parts.push(part);\n        hasUserContent = true;\n      }\n    }\n  } catch (err) {\n    _iterator7.e(err);\n  } finally {\n    _iterator7.f();\n  }\n  if (hasUserContent && hasFunctionContent) {\n    throw new GoogleGenerativeAIError(\"Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.\");\n  }\n  if (!hasUserContent && !hasFunctionContent) {\n    throw new GoogleGenerativeAIError(\"No content is provided for sending chat message.\");\n  }\n  if (hasUserContent) {\n    return userContent;\n  }\n  return functionContent;\n}\nfunction formatCountTokensInput(params, model) {\n  var formattedRequest = {};\n  var containsGenerateContentRequest = params.generateContentRequest != null;\n  if (params.contents) {\n    if (containsGenerateContentRequest) {\n      throw new GoogleGenerativeAIRequestInputError(\"CountTokensRequest must have one of contents or generateContentRequest, not both.\");\n    }\n    formattedRequest = Object.assign({}, params);\n  } else if (containsGenerateContentRequest) {\n    formattedRequest = Object.assign({}, params);\n    formattedRequest.generateContentRequest.model = model;\n  } else {\n    // Array or string\n    var content = formatNewContent(params);\n    formattedRequest.contents = [content];\n  }\n  return formattedRequest;\n}\nfunction formatGenerateContentInput(params) {\n  var formattedRequest;\n  if (params.contents) {\n    formattedRequest = params;\n  } else {\n    // Array or string\n    var content = formatNewContent(params);\n    formattedRequest = {\n      contents: [content]\n    };\n  }\n  if (params.systemInstruction) {\n    formattedRequest.systemInstruction = formatSystemInstruction(params.systemInstruction);\n  }\n  return formattedRequest;\n}\nfunction formatEmbedContentInput(params) {\n  if (typeof params === \"string\" || Array.isArray(params)) {\n    var content = formatNewContent(params);\n    return {\n      content: content\n    };\n  }\n  return params;\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n// https://ai.google.dev/api/rest/v1beta/Content#part\nvar VALID_PART_FIELDS = [\"text\", \"inlineData\", \"functionCall\", \"functionResponse\", \"executableCode\", \"codeExecutionResult\"];\nvar VALID_PARTS_PER_ROLE = {\n  user: [\"text\", \"inlineData\"],\n  \"function\": [\"functionResponse\"],\n  model: [\"text\", \"functionCall\", \"executableCode\", \"codeExecutionResult\"],\n  // System instructions shouldn't be in history anyway.\n  system: [\"text\"]\n};\nfunction validateChatHistory(history) {\n  var prevContent = false;\n  var _iterator8 = _createForOfIteratorHelper(history),\n    _step8;\n  try {\n    for (_iterator8.s(); !(_step8 = _iterator8.n()).done;) {\n      var currContent = _step8.value;\n      var role = currContent.role,\n        parts = currContent.parts;\n      if (!prevContent && role !== \"user\") {\n        throw new GoogleGenerativeAIError(\"First content should be with role 'user', got \".concat(role));\n      }\n      if (!POSSIBLE_ROLES.includes(role)) {\n        throw new GoogleGenerativeAIError(\"Each item should include role field. Got \".concat(role, \" but valid roles are: \").concat(JSON.stringify(POSSIBLE_ROLES)));\n      }\n      if (!Array.isArray(parts)) {\n        throw new GoogleGenerativeAIError(\"Content should have 'parts' property with an array of Parts\");\n      }\n      if (parts.length === 0) {\n        throw new GoogleGenerativeAIError(\"Each Content should have at least one part\");\n      }\n      var countFields = {\n        text: 0,\n        inlineData: 0,\n        functionCall: 0,\n        functionResponse: 0,\n        fileData: 0,\n        executableCode: 0,\n        codeExecutionResult: 0\n      };\n      var _iterator9 = _createForOfIteratorHelper(parts),\n        _step9;\n      try {\n        for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n          var part = _step9.value;\n          for (var _i3 = 0, _VALID_PART_FIELDS2 = VALID_PART_FIELDS; _i3 < _VALID_PART_FIELDS2.length; _i3++) {\n            var _key = _VALID_PART_FIELDS2[_i3];\n            if (_key in part) {\n              countFields[_key] += 1;\n            }\n          }\n        }\n      } catch (err) {\n        _iterator9.e(err);\n      } finally {\n        _iterator9.f();\n      }\n      var validParts = VALID_PARTS_PER_ROLE[role];\n      for (var _i2 = 0, _VALID_PART_FIELDS = VALID_PART_FIELDS; _i2 < _VALID_PART_FIELDS.length; _i2++) {\n        var key = _VALID_PART_FIELDS[_i2];\n        if (!validParts.includes(key) && countFields[key] > 0) {\n          throw new GoogleGenerativeAIError(\"Content with role '\".concat(role, \"' can't contain '\").concat(key, \"' part\"));\n        }\n      }\n      prevContent = true;\n    }\n  } catch (err) {\n    _iterator8.e(err);\n  } finally {\n    _iterator8.f();\n  }\n}\n\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Do not log a message for this error.\n */\nvar SILENT_ERROR = \"SILENT_ERROR\";\n/**\n * ChatSession class that enables sending chat messages and stores\n * history of sent and received messages so far.\n *\n * @public\n */\nvar ChatSession = /*#__PURE__*/function () {\n  function ChatSession(apiKey, model, params, requestOptions) {\n    _classCallCheck(this, ChatSession);\n    this.model = model;\n    this.params = params;\n    this.requestOptions = requestOptions;\n    this._history = [];\n    this._sendPromise = Promise.resolve();\n    this._apiKey = apiKey;\n    if (params === null || params === void 0 ? void 0 : params.history) {\n      validateChatHistory(params.history);\n      this._history = params.history;\n    }\n  }\n  /**\n   * Gets the chat history so far. Blocked prompts are not added to history.\n   * Blocked candidates are not added to history, nor are the prompts that\n   * generated them.\n   */\n  _createClass(ChatSession, [{\n    key: \"getHistory\",\n    value: function () {\n      var _getHistory = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        return _regeneratorRuntime().wrap(function _callee$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this._sendPromise;\n              case 2:\n                return _context2.abrupt(\"return\", this._history);\n              case 3:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function getHistory() {\n        return _getHistory.apply(this, arguments);\n      }\n      return getHistory;\n    }()\n    /**\n     * Sends a chat message and receives a non-streaming\n     * {@link GenerateContentResult}\n     */\n  }, {\n    key: \"sendMessage\",\n    value: function () {\n      var _sendMessage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(request) {\n        var _this3 = this;\n        var _a, _b, _c, _d, _e, _f, newContent, generateContentRequest, finalResult;\n        return _regeneratorRuntime().wrap(function _callee2$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                _context3.next = 2;\n                return this._sendPromise;\n              case 2:\n                newContent = formatNewContent(request);\n                generateContentRequest = {\n                  safetySettings: (_a = this.params) === null || _a === void 0 ? void 0 : _a.safetySettings,\n                  generationConfig: (_b = this.params) === null || _b === void 0 ? void 0 : _b.generationConfig,\n                  tools: (_c = this.params) === null || _c === void 0 ? void 0 : _c.tools,\n                  toolConfig: (_d = this.params) === null || _d === void 0 ? void 0 : _d.toolConfig,\n                  systemInstruction: (_e = this.params) === null || _e === void 0 ? void 0 : _e.systemInstruction,\n                  cachedContent: (_f = this.params) === null || _f === void 0 ? void 0 : _f.cachedContent,\n                  contents: [].concat(_toConsumableArray(this._history), [newContent])\n                };\n                // Add onto the chain.\n                this._sendPromise = this._sendPromise.then(function () {\n                  return _generateContent2(_this3._apiKey, _this3.model, generateContentRequest, _this3.requestOptions);\n                }).then(function (result) {\n                  var _a;\n                  if (result.response.candidates && result.response.candidates.length > 0) {\n                    _this3._history.push(newContent);\n                    var responseContent = Object.assign({\n                      parts: [],\n                      // Response seems to come back without a role set.\n                      role: \"model\"\n                    }, (_a = result.response.candidates) === null || _a === void 0 ? void 0 : _a[0].content);\n                    _this3._history.push(responseContent);\n                  } else {\n                    var blockErrorMessage = formatBlockErrorMessage(result.response);\n                    if (blockErrorMessage) {\n                      console.warn(\"sendMessage() was unsuccessful. \".concat(blockErrorMessage, \". Inspect response object for details.\"));\n                    }\n                  }\n                  finalResult = result;\n                });\n                _context3.next = 7;\n                return this._sendPromise;\n              case 7:\n                return _context3.abrupt(\"return\", finalResult);\n              case 8:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function sendMessage(_x27) {\n        return _sendMessage.apply(this, arguments);\n      }\n      return sendMessage;\n    }()\n    /**\n     * Sends a chat message and receives the response as a\n     * {@link GenerateContentStreamResult} containing an iterable stream\n     * and a response promise.\n     */\n  }, {\n    key: \"sendMessageStream\",\n    value: function () {\n      var _sendMessageStream = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(request) {\n        var _this4 = this;\n        var _a, _b, _c, _d, _e, _f, newContent, generateContentRequest, streamPromise;\n        return _regeneratorRuntime().wrap(function _callee3$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _context4.next = 2;\n                return this._sendPromise;\n              case 2:\n                newContent = formatNewContent(request);\n                generateContentRequest = {\n                  safetySettings: (_a = this.params) === null || _a === void 0 ? void 0 : _a.safetySettings,\n                  generationConfig: (_b = this.params) === null || _b === void 0 ? void 0 : _b.generationConfig,\n                  tools: (_c = this.params) === null || _c === void 0 ? void 0 : _c.tools,\n                  toolConfig: (_d = this.params) === null || _d === void 0 ? void 0 : _d.toolConfig,\n                  systemInstruction: (_e = this.params) === null || _e === void 0 ? void 0 : _e.systemInstruction,\n                  cachedContent: (_f = this.params) === null || _f === void 0 ? void 0 : _f.cachedContent,\n                  contents: [].concat(_toConsumableArray(this._history), [newContent])\n                };\n                streamPromise = _generateContentStream2(this._apiKey, this.model, generateContentRequest, this.requestOptions); // Add onto the chain.\n                this._sendPromise = this._sendPromise.then(function () {\n                  return streamPromise;\n                })\n                // This must be handled to avoid unhandled rejection, but jump\n                // to the final catch block with a label to not log this error.\n                [\"catch\"](function (_ignored) {\n                  throw new Error(SILENT_ERROR);\n                }).then(function (streamResult) {\n                  return streamResult.response;\n                }).then(function (response) {\n                  if (response.candidates && response.candidates.length > 0) {\n                    _this4._history.push(newContent);\n                    var responseContent = Object.assign({}, response.candidates[0].content);\n                    // Response seems to come back without a role set.\n                    if (!responseContent.role) {\n                      responseContent.role = \"model\";\n                    }\n                    _this4._history.push(responseContent);\n                  } else {\n                    var blockErrorMessage = formatBlockErrorMessage(response);\n                    if (blockErrorMessage) {\n                      console.warn(\"sendMessageStream() was unsuccessful. \".concat(blockErrorMessage, \". Inspect response object for details.\"));\n                    }\n                  }\n                })[\"catch\"](function (e) {\n                  // Errors in streamPromise are already catchable by the user as\n                  // streamPromise is returned.\n                  // Avoid duplicating the error message in logs.\n                  if (e.message !== SILENT_ERROR) {\n                    // Users do not have access to _sendPromise to catch errors\n                    // downstream from streamPromise, so they should not throw.\n                    console.error(e);\n                  }\n                });\n                return _context4.abrupt(\"return\", streamPromise);\n              case 7:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function sendMessageStream(_x28) {\n        return _sendMessageStream.apply(this, arguments);\n      }\n      return sendMessageStream;\n    }()\n  }]);\n  return ChatSession;\n}();\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction _countTokens2(_x29, _x30, _x31, _x32) {\n  return _countTokens.apply(this, arguments);\n}\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction _countTokens() {\n  _countTokens = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee17(apiKey, model, params, requestOptions) {\n    var response;\n    return _regeneratorRuntime().wrap(function _callee17$(_context18) {\n      while (1) {\n        switch (_context18.prev = _context18.next) {\n          case 0:\n            _context18.next = 2;\n            return makeModelRequest(model, Task.COUNT_TOKENS, apiKey, false, JSON.stringify(params), requestOptions);\n          case 2:\n            response = _context18.sent;\n            return _context18.abrupt(\"return\", response.json());\n          case 4:\n          case \"end\":\n            return _context18.stop();\n        }\n      }\n    }, _callee17);\n  }));\n  return _countTokens.apply(this, arguments);\n}\nfunction _embedContent2(_x33, _x34, _x35, _x36) {\n  return _embedContent.apply(this, arguments);\n}\nfunction _embedContent() {\n  _embedContent = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee18(apiKey, model, params, requestOptions) {\n    var response;\n    return _regeneratorRuntime().wrap(function _callee18$(_context19) {\n      while (1) {\n        switch (_context19.prev = _context19.next) {\n          case 0:\n            _context19.next = 2;\n            return makeModelRequest(model, Task.EMBED_CONTENT, apiKey, false, JSON.stringify(params), requestOptions);\n          case 2:\n            response = _context19.sent;\n            return _context19.abrupt(\"return\", response.json());\n          case 4:\n          case \"end\":\n            return _context19.stop();\n        }\n      }\n    }, _callee18);\n  }));\n  return _embedContent.apply(this, arguments);\n}\nfunction _batchEmbedContents2(_x37, _x38, _x39, _x40) {\n  return _batchEmbedContents.apply(this, arguments);\n}\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Class for generative model APIs.\n * @public\n */\nfunction _batchEmbedContents() {\n  _batchEmbedContents = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee19(apiKey, model, params, requestOptions) {\n    var requestsWithModel, response;\n    return _regeneratorRuntime().wrap(function _callee19$(_context20) {\n      while (1) {\n        switch (_context20.prev = _context20.next) {\n          case 0:\n            requestsWithModel = params.requests.map(function (request) {\n              return Object.assign(Object.assign({}, request), {\n                model: model\n              });\n            });\n            _context20.next = 3;\n            return makeModelRequest(model, Task.BATCH_EMBED_CONTENTS, apiKey, false, JSON.stringify({\n              requests: requestsWithModel\n            }), requestOptions);\n          case 3:\n            response = _context20.sent;\n            return _context20.abrupt(\"return\", response.json());\n          case 5:\n          case \"end\":\n            return _context20.stop();\n        }\n      }\n    }, _callee19);\n  }));\n  return _batchEmbedContents.apply(this, arguments);\n}\nvar GenerativeModel = /*#__PURE__*/function () {\n  function GenerativeModel(apiKey, modelParams, requestOptions) {\n    _classCallCheck(this, GenerativeModel);\n    this.apiKey = apiKey;\n    if (modelParams.model.includes(\"/\")) {\n      // Models may be named \"models/model-name\" or \"tunedModels/model-name\"\n      this.model = modelParams.model;\n    } else {\n      // If path is not included, assume it's a non-tuned model.\n      this.model = \"models/\".concat(modelParams.model);\n    }\n    this.generationConfig = modelParams.generationConfig || {};\n    this.safetySettings = modelParams.safetySettings || [];\n    this.tools = modelParams.tools;\n    this.toolConfig = modelParams.toolConfig;\n    this.systemInstruction = formatSystemInstruction(modelParams.systemInstruction);\n    this.cachedContent = modelParams.cachedContent;\n    this.requestOptions = requestOptions || {};\n  }\n  /**\n   * Makes a single non-streaming call to the model\n   * and returns an object containing a single {@link GenerateContentResponse}.\n   */\n  _createClass(GenerativeModel, [{\n    key: \"generateContent\",\n    value: function () {\n      var _generateContent3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(request) {\n        var _a, formattedParams;\n        return _regeneratorRuntime().wrap(function _callee4$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                formattedParams = formatGenerateContentInput(request);\n                return _context5.abrupt(\"return\", _generateContent2(this.apiKey, this.model, Object.assign({\n                  generationConfig: this.generationConfig,\n                  safetySettings: this.safetySettings,\n                  tools: this.tools,\n                  toolConfig: this.toolConfig,\n                  systemInstruction: this.systemInstruction,\n                  cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name\n                }, formattedParams), this.requestOptions));\n              case 2:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      function generateContent(_x41) {\n        return _generateContent3.apply(this, arguments);\n      }\n      return generateContent;\n    }()\n    /**\n     * Makes a single streaming call to the model\n     * and returns an object containing an iterable stream that iterates\n     * over all chunks in the streaming response as well as\n     * a promise that returns the final aggregated response.\n     */\n  }, {\n    key: \"generateContentStream\",\n    value: function () {\n      var _generateContentStream3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(request) {\n        var _a, formattedParams;\n        return _regeneratorRuntime().wrap(function _callee5$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                formattedParams = formatGenerateContentInput(request);\n                return _context6.abrupt(\"return\", _generateContentStream2(this.apiKey, this.model, Object.assign({\n                  generationConfig: this.generationConfig,\n                  safetySettings: this.safetySettings,\n                  tools: this.tools,\n                  toolConfig: this.toolConfig,\n                  systemInstruction: this.systemInstruction,\n                  cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name\n                }, formattedParams), this.requestOptions));\n              case 2:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n      function generateContentStream(_x42) {\n        return _generateContentStream3.apply(this, arguments);\n      }\n      return generateContentStream;\n    }()\n    /**\n     * Gets a new {@link ChatSession} instance which can be used for\n     * multi-turn chats.\n     */\n  }, {\n    key: \"startChat\",\n    value: function startChat(startChatParams) {\n      var _a;\n      return new ChatSession(this.apiKey, this.model, Object.assign({\n        generationConfig: this.generationConfig,\n        safetySettings: this.safetySettings,\n        tools: this.tools,\n        toolConfig: this.toolConfig,\n        systemInstruction: this.systemInstruction,\n        cachedContent: (_a = this.cachedContent) === null || _a === void 0 ? void 0 : _a.name\n      }, startChatParams), this.requestOptions);\n    }\n    /**\n     * Counts the tokens in the provided request.\n     */\n  }, {\n    key: \"countTokens\",\n    value: function () {\n      var _countTokens3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(request) {\n        var formattedParams;\n        return _regeneratorRuntime().wrap(function _callee6$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                formattedParams = formatCountTokensInput(request, this.model);\n                return _context7.abrupt(\"return\", _countTokens2(this.apiKey, this.model, formattedParams, this.requestOptions));\n              case 2:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n      function countTokens(_x43) {\n        return _countTokens3.apply(this, arguments);\n      }\n      return countTokens;\n    }()\n    /**\n     * Embeds the provided content.\n     */\n  }, {\n    key: \"embedContent\",\n    value: function () {\n      var _embedContent3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee7(request) {\n        var formattedParams;\n        return _regeneratorRuntime().wrap(function _callee7$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                formattedParams = formatEmbedContentInput(request);\n                return _context8.abrupt(\"return\", _embedContent2(this.apiKey, this.model, formattedParams, this.requestOptions));\n              case 2:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee7, this);\n      }));\n      function embedContent(_x44) {\n        return _embedContent3.apply(this, arguments);\n      }\n      return embedContent;\n    }()\n    /**\n     * Embeds an array of {@link EmbedContentRequest}s.\n     */\n  }, {\n    key: \"batchEmbedContents\",\n    value: function () {\n      var _batchEmbedContents3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee8(batchEmbedContentRequest) {\n        return _regeneratorRuntime().wrap(function _callee8$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                return _context9.abrupt(\"return\", _batchEmbedContents2(this.apiKey, this.model, batchEmbedContentRequest, this.requestOptions));\n              case 1:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n      function batchEmbedContents(_x45) {\n        return _batchEmbedContents3.apply(this, arguments);\n      }\n      return batchEmbedContents;\n    }()\n  }]);\n  return GenerativeModel;\n}();\n/**\n * @license\n * Copyright 2024 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Top-level class for this SDK\n * @public\n */\nvar GoogleGenerativeAI = /*#__PURE__*/function () {\n  function GoogleGenerativeAI(apiKey) {\n    _classCallCheck(this, GoogleGenerativeAI);\n    this.apiKey = apiKey;\n  }\n  /**\n   * Gets a {@link GenerativeModel} instance for the provided model name.\n   */\n  _createClass(GoogleGenerativeAI, [{\n    key: \"getGenerativeModel\",\n    value: function getGenerativeModel(modelParams, requestOptions) {\n      if (!modelParams.model) {\n        throw new GoogleGenerativeAIError(\"Must provide a model name. \" + \"Example: genai.getGenerativeModel({ model: 'my-model-name' })\");\n      }\n      return new GenerativeModel(this.apiKey, modelParams, requestOptions);\n    }\n    /**\n     * Creates a {@link GenerativeModel} instance from provided content cache.\n     */\n  }, {\n    key: \"getGenerativeModelFromCachedContent\",\n    value: function getGenerativeModelFromCachedContent(cachedContent, requestOptions) {\n      if (!cachedContent.name) {\n        throw new GoogleGenerativeAIRequestInputError(\"Cached content must contain a `name` field.\");\n      }\n      if (!cachedContent.model) {\n        throw new GoogleGenerativeAIRequestInputError(\"Cached content must contain a `model` field.\");\n      }\n      var modelParamsFromCache = {\n        model: cachedContent.model,\n        tools: cachedContent.tools,\n        toolConfig: cachedContent.toolConfig,\n        systemInstruction: cachedContent.systemInstruction,\n        cachedContent: cachedContent\n      };\n      return new GenerativeModel(this.apiKey, modelParamsFromCache, requestOptions);\n    }\n  }]);\n  return GoogleGenerativeAI;\n}();\nexports.ChatSession = ChatSession;\nexports.GenerativeModel = GenerativeModel;\nexports.GoogleGenerativeAI = GoogleGenerativeAI;\nexports.GoogleGenerativeAIError = GoogleGenerativeAIError;\nexports.GoogleGenerativeAIFetchError = GoogleGenerativeAIFetchError;\nexports.GoogleGenerativeAIRequestInputError = GoogleGenerativeAIRequestInputError;\nexports.GoogleGenerativeAIResponseError = GoogleGenerativeAIResponseError;\nexports.POSSIBLE_ROLES = POSSIBLE_ROLES;\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/@google/generative-ai/dist/index.js?");

/***/ }),

/***/ "./node_modules/blob-util/dist/blob-util.es.js":
/*!*****************************************************!*\
  !*** ./node_modules/blob-util/dist/blob-util.es.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"arrayBufferToBinaryString\": () => (/* binding */ arrayBufferToBinaryString),\n/* harmony export */   \"arrayBufferToBlob\": () => (/* binding */ arrayBufferToBlob),\n/* harmony export */   \"base64StringToBlob\": () => (/* binding */ base64StringToBlob),\n/* harmony export */   \"binaryStringToArrayBuffer\": () => (/* binding */ binaryStringToArrayBuffer),\n/* harmony export */   \"binaryStringToBlob\": () => (/* binding */ binaryStringToBlob),\n/* harmony export */   \"blobToArrayBuffer\": () => (/* binding */ blobToArrayBuffer),\n/* harmony export */   \"blobToBase64String\": () => (/* binding */ blobToBase64String),\n/* harmony export */   \"blobToBinaryString\": () => (/* binding */ blobToBinaryString),\n/* harmony export */   \"blobToDataURL\": () => (/* binding */ blobToDataURL),\n/* harmony export */   \"canvasToBlob\": () => (/* binding */ canvasToBlob),\n/* harmony export */   \"createBlob\": () => (/* binding */ createBlob),\n/* harmony export */   \"createObjectURL\": () => (/* binding */ createObjectURL),\n/* harmony export */   \"dataURLToBlob\": () => (/* binding */ dataURLToBlob),\n/* harmony export */   \"imgSrcToBlob\": () => (/* binding */ imgSrcToBlob),\n/* harmony export */   \"imgSrcToDataURL\": () => (/* binding */ imgSrcToDataURL),\n/* harmony export */   \"revokeObjectURL\": () => (/* binding */ revokeObjectURL)\n/* harmony export */ });\n// TODO: including these in blob-util.ts causes typedoc to generate docs for them,\n// even with --excludePrivate \\_()_/\n/** @private */\nfunction loadImage(src, crossOrigin) {\n  return new Promise(function (resolve, reject) {\n    var img = new Image();\n    if (crossOrigin) {\n      img.crossOrigin = crossOrigin;\n    }\n    img.onload = function () {\n      resolve(img);\n    };\n    img.onerror = reject;\n    img.src = src;\n  });\n}\n/** @private */\nfunction imgToCanvas(img) {\n  var canvas = document.createElement('canvas');\n  canvas.width = img.width;\n  canvas.height = img.height;\n  // copy the image contents to the canvas\n  var context = canvas.getContext('2d');\n  context.drawImage(img, 0, 0, img.width, img.height, 0, 0, img.width, img.height);\n  return canvas;\n}\n\n/* global Promise, Image, Blob, FileReader, atob, btoa,\n   BlobBuilder, MSBlobBuilder, MozBlobBuilder, WebKitBlobBuilder, webkitURL */\n/**\n * Shim for\n * [`new Blob()`](https://developer.mozilla.org/en-US/docs/Web/API/Blob.Blob)\n * to support\n * [older browsers that use the deprecated `BlobBuilder` API](http://caniuse.com/blob).\n *\n * Example:\n *\n * ```js\n * var myBlob = blobUtil.createBlob(['hello world'], {type: 'text/plain'});\n * ```\n *\n * @param parts - content of the Blob\n * @param properties - usually `{type: myContentType}`,\n *                           you can also pass a string for the content type\n * @returns Blob\n */\nfunction createBlob(parts, properties) {\n  parts = parts || [];\n  properties = properties || {};\n  if (typeof properties === 'string') {\n    properties = {\n      type: properties\n    }; // infer content type\n  }\n\n  try {\n    return new Blob(parts, properties);\n  } catch (e) {\n    if (e.name !== 'TypeError') {\n      throw e;\n    }\n    var Builder = typeof BlobBuilder !== 'undefined' ? BlobBuilder : typeof MSBlobBuilder !== 'undefined' ? MSBlobBuilder : typeof MozBlobBuilder !== 'undefined' ? MozBlobBuilder : WebKitBlobBuilder;\n    var builder = new Builder();\n    for (var i = 0; i < parts.length; i += 1) {\n      builder.append(parts[i]);\n    }\n    return builder.getBlob(properties.type);\n  }\n}\n/**\n * Shim for\n * [`URL.createObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.createObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * var myUrl = blobUtil.createObjectURL(blob);\n * ```\n *\n * @param blob\n * @returns url\n */\nfunction createObjectURL(blob) {\n  return (typeof URL !== 'undefined' ? URL : webkitURL).createObjectURL(blob);\n}\n/**\n * Shim for\n * [`URL.revokeObjectURL()`](https://developer.mozilla.org/en-US/docs/Web/API/URL.revokeObjectURL)\n * to support browsers that only have the prefixed\n * `webkitURL` (e.g. Android <4.4).\n *\n * Example:\n *\n * ```js\n * blobUtil.revokeObjectURL(myUrl);\n * ```\n *\n * @param url\n */\nfunction revokeObjectURL(url) {\n  return (typeof URL !== 'undefined' ? URL : webkitURL).revokeObjectURL(url);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBinaryString(blob).then(function (binaryString) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\nfunction blobToBinaryString(blob) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    var hasBinaryString = typeof reader.readAsBinaryString === 'function';\n    reader.onloadend = function () {\n      var result = reader.result || '';\n      if (hasBinaryString) {\n        return resolve(result);\n      }\n      resolve(arrayBufferToBinaryString(result));\n    };\n    reader.onerror = reject;\n    if (hasBinaryString) {\n      reader.readAsBinaryString(blob);\n    } else {\n      reader.readAsArrayBuffer(blob);\n    }\n  });\n}\n/**\n * Convert a base64-encoded string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.base64StringToBlob(base64String);\n * ```\n * @param base64 - base64-encoded string\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction base64StringToBlob(base64, type) {\n  var parts = [binaryStringToArrayBuffer(atob(base64))];\n  return type ? createBlob(parts, {\n    type: type\n  }) : createBlob(parts);\n}\n/**\n * Convert a binary string to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.binaryStringToBlob(binaryString);\n * ```\n *\n * @param binary - binary string\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction binaryStringToBlob(binary, type) {\n  return base64StringToBlob(btoa(binary), type);\n}\n/**\n * Convert a `Blob` to a binary string.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToBase64String(blob).then(function (base64String) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the binary string\n */\nfunction blobToBase64String(blob) {\n  return blobToBinaryString(blob).then(btoa);\n}\n/**\n * Convert a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`)\n * to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.dataURLToBlob(dataURL);\n * ```\n *\n * @param dataURL - dataURL-encoded string\n * @returns Blob\n */\nfunction dataURLToBlob(dataURL) {\n  var type = dataURL.match(/data:([^;]+)/)[1];\n  var base64 = dataURL.replace(/^[^,]+,/, '');\n  var buff = binaryStringToArrayBuffer(atob(base64));\n  return createBlob([buff], {\n    type: type\n  });\n}\n/**\n * Convert a `Blob` to a data URL string\n * (e.g. `'data:image/png;base64,iVBORw0KG...'`).\n *\n * Example:\n *\n * ```js\n * var dataURL = blobUtil.blobToDataURL(blob);\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the data URL string\n */\nfunction blobToDataURL(blob) {\n  return blobToBase64String(blob).then(function (base64String) {\n    return 'data:' + blob.type + ';base64,' + base64String;\n  });\n}\n/**\n * Convert an image's `src` URL to a data URL by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://mysite.com/img.png').then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToDataURL('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (dataURL) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the data URL string\n */\nfunction imgSrcToDataURL(src, type, crossOrigin, quality) {\n  type = type || 'image/png';\n  return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n    return canvas.toDataURL(type, quality);\n  });\n}\n/**\n * Convert a `canvas` to a `Blob`.\n *\n * Examples:\n *\n * ```js\n * blobUtil.canvasToBlob(canvas).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * Most browsers support converting a canvas to both `'image/png'` and `'image/jpeg'`. You may\n * also want to try `'image/webp'`, which will work in some browsers like Chrome (and in other browsers, will just fall back to `'image/png'`):\n *\n * ```js\n * blobUtil.canvasToBlob(canvas, 'image/webp').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param canvas - HTMLCanvasElement\n * @param type - the content type (optional, defaults to 'image/png')\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\nfunction canvasToBlob(canvas, type, quality) {\n  if (typeof canvas.toBlob === 'function') {\n    return new Promise(function (resolve) {\n      canvas.toBlob(resolve, type, quality);\n    });\n  }\n  return Promise.resolve(dataURLToBlob(canvas.toDataURL(type, quality)));\n}\n/**\n * Convert an image's `src` URL to a `Blob` by loading the image and painting\n * it to a `canvas`.\n *\n * Note: this will coerce the image to the desired content type, and it\n * will only paint the first frame of an animated GIF.\n *\n * Examples:\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://mysite.com/img.png').then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * ```js\n * blobUtil.imgSrcToBlob('http://some-other-site.com/img.jpg', 'image/jpeg',\n *                          'Anonymous', 1.0).then(function (blob) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param src - image src\n * @param type - the content type (optional, defaults to 'image/png')\n * @param crossOrigin - for CORS-enabled images, set this to\n *                                         'Anonymous' to avoid \"tainted canvas\" errors\n * @param quality - a number between 0 and 1 indicating image quality\n *                                     if the requested type is 'image/jpeg' or 'image/webp'\n * @returns Promise that resolves with the `Blob`\n */\nfunction imgSrcToBlob(src, type, crossOrigin, quality) {\n  type = type || 'image/png';\n  return loadImage(src, crossOrigin).then(imgToCanvas).then(function (canvas) {\n    return canvasToBlob(canvas, type, quality);\n  });\n}\n/**\n * Convert an `ArrayBuffer` to a `Blob`.\n *\n * Example:\n *\n * ```js\n * var blob = blobUtil.arrayBufferToBlob(arrayBuff, 'audio/mpeg');\n * ```\n *\n * @param buffer\n * @param type - the content type (optional)\n * @returns Blob\n */\nfunction arrayBufferToBlob(buffer, type) {\n  return createBlob([buffer], type);\n}\n/**\n * Convert a `Blob` to an `ArrayBuffer`.\n *\n * Example:\n *\n * ```js\n * blobUtil.blobToArrayBuffer(blob).then(function (arrayBuff) {\n *   // success\n * }).catch(function (err) {\n *   // error\n * });\n * ```\n *\n * @param blob\n * @returns Promise that resolves with the `ArrayBuffer`\n */\nfunction blobToArrayBuffer(blob) {\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader();\n    reader.onloadend = function () {\n      var result = reader.result || new ArrayBuffer(0);\n      resolve(result);\n    };\n    reader.onerror = reject;\n    reader.readAsArrayBuffer(blob);\n  });\n}\n/**\n * Convert an `ArrayBuffer` to a binary string.\n *\n * Example:\n *\n * ```js\n * var myString = blobUtil.arrayBufferToBinaryString(arrayBuff)\n * ```\n *\n * @param buffer - array buffer\n * @returns binary string\n */\nfunction arrayBufferToBinaryString(buffer) {\n  var binary = '';\n  var bytes = new Uint8Array(buffer);\n  var length = bytes.byteLength;\n  var i = -1;\n  while (++i < length) {\n    binary += String.fromCharCode(bytes[i]);\n  }\n  return binary;\n}\n/**\n * Convert a binary string to an `ArrayBuffer`.\n *\n * ```js\n * var myBuffer = blobUtil.binaryStringToArrayBuffer(binaryString)\n * ```\n *\n * @param binary - binary string\n * @returns array buffer\n */\nfunction binaryStringToArrayBuffer(binary) {\n  var length = binary.length;\n  var buf = new ArrayBuffer(length);\n  var arr = new Uint8Array(buf);\n  var i = -1;\n  while (++i < length) {\n    arr[i] = binary.charCodeAt(i);\n  }\n  return buf;\n}\n\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/blob-util/dist/blob-util.es.js?");

/***/ }),

/***/ "./node_modules/copy-to-clipboard/index.js":
/*!*************************************************!*\
  !*** ./node_modules/copy-to-clipboard/index.js ***!
  \*************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
eval("\n\nvar deselectCurrent = __webpack_require__(/*! toggle-selection */ \"./node_modules/toggle-selection/index.js\");\nvar clipboardToIE11Formatting = {\n  \"text/plain\": \"Text\",\n  \"text/html\": \"Url\",\n  \"default\": \"Text\"\n};\nvar defaultMessage = \"Copy to clipboard: #{key}, Enter\";\nfunction format(message) {\n  var copyKey = (/mac os x/i.test(navigator.userAgent) ? \"\" : \"Ctrl\") + \"+C\";\n  return message.replace(/#{\\s*key\\s*}/g, copyKey);\n}\nfunction copy(text, options) {\n  var debug,\n    message,\n    reselectPrevious,\n    range,\n    selection,\n    mark,\n    success = false;\n  if (!options) {\n    options = {};\n  }\n  debug = options.debug || false;\n  try {\n    reselectPrevious = deselectCurrent();\n    range = document.createRange();\n    selection = document.getSelection();\n    mark = document.createElement(\"span\");\n    mark.textContent = text;\n    // avoid screen readers from reading out loud the text\n    mark.ariaHidden = \"true\";\n    // reset user styles for span element\n    mark.style.all = \"unset\";\n    // prevents scrolling to the end of the page\n    mark.style.position = \"fixed\";\n    mark.style.top = 0;\n    mark.style.clip = \"rect(0, 0, 0, 0)\";\n    // used to preserve spaces and line breaks\n    mark.style.whiteSpace = \"pre\";\n    // do not inherit user-select (it may be `none`)\n    mark.style.webkitUserSelect = \"text\";\n    mark.style.MozUserSelect = \"text\";\n    mark.style.msUserSelect = \"text\";\n    mark.style.userSelect = \"text\";\n    mark.addEventListener(\"copy\", function (e) {\n      e.stopPropagation();\n      if (options.format) {\n        e.preventDefault();\n        if (typeof e.clipboardData === \"undefined\") {\n          // IE 11\n          debug && console.warn(\"unable to use e.clipboardData\");\n          debug && console.warn(\"trying IE specific stuff\");\n          window.clipboardData.clearData();\n          var format = clipboardToIE11Formatting[options.format] || clipboardToIE11Formatting[\"default\"];\n          window.clipboardData.setData(format, text);\n        } else {\n          // all other browsers\n          e.clipboardData.clearData();\n          e.clipboardData.setData(options.format, text);\n        }\n      }\n      if (options.onCopy) {\n        e.preventDefault();\n        options.onCopy(e.clipboardData);\n      }\n    });\n    document.body.appendChild(mark);\n    range.selectNodeContents(mark);\n    selection.addRange(range);\n    var successful = document.execCommand(\"copy\");\n    if (!successful) {\n      throw new Error(\"copy command was unsuccessful\");\n    }\n    success = true;\n  } catch (err) {\n    debug && console.error(\"unable to copy using execCommand: \", err);\n    debug && console.warn(\"trying IE specific stuff\");\n    try {\n      window.clipboardData.setData(options.format || \"text\", text);\n      options.onCopy && options.onCopy(window.clipboardData);\n      success = true;\n    } catch (err) {\n      debug && console.error(\"unable to copy using clipboardData: \", err);\n      debug && console.error(\"falling back to prompt\");\n      message = format(\"message\" in options ? options.message : defaultMessage);\n      window.prompt(message, text);\n    }\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == \"function\") {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n  return success;\n}\nmodule.exports = copy;\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/copy-to-clipboard/index.js?");

/***/ }),

/***/ "./node_modules/html-tag-js/dist/tag.js":
/*!**********************************************!*\
  !*** ./node_modules/html-tag-js/dist/tag.js ***!
  \**********************************************/
/***/ (function(module, exports, __webpack_require__) {

eval("/* module decorator */ module = __webpack_require__.nmd(module);\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n!function (e, t) {\n  \"object\" == ( false ? 0 : _typeof(exports)) && \"object\" == ( false ? 0 : _typeof(module)) ? module.exports = t() :  true ? !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_FACTORY__ = (t),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) : 0;\n}(this, function () {\n  return function () {\n    \"use strict\";\n\n    var e = {\n        d: function d(t, n) {\n          for (var r in n) {\n            e.o(n, r) && !e.o(t, r) && Object.defineProperty(t, r, {\n              enumerable: !0,\n              get: n[r]\n            });\n          }\n        },\n        o: function o(e, t) {\n          return Object.prototype.hasOwnProperty.call(e, t);\n        }\n      },\n      t = {};\n    function n(e, t) {\n      t instanceof Node || (t = r.text(\"\".concat(t))), t instanceof Text && \"clone\" in t && (t = t.clone()), e.append(t);\n    }\n    function r(e) {\n      var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      return \"string\" == typeof t && (t = {\n        innerHTML: t\n      }), function (e) {\n        var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var r = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        var o;\n        if (\"function\" == typeof e) return e(t, r);\n        if (e instanceof Node) o = e;else {\n          if (\"string\" != typeof e) throw new Error(\"Invalid tag, \", _typeof(e));\n          o = document.createElement(e);\n        }\n        return Object.keys(t).forEach(function (e) {\n          var r = t[e];\n          if (void 0 !== r) switch (e) {\n            case \"child\":\n              n(o, r);\n              break;\n            case \"children\":\n              if (!Array.isArray(r)) throw new Error(\"children must be an array of Nodes\");\n              r.flat().forEach(function (e) {\n                n(o, e);\n              });\n              break;\n            case \"attr\":\n              Object.keys(r).forEach(function (e) {\n                o.setAttribute(e, r[e]);\n              });\n              break;\n            case \"style\":\n            case \"dataset\":\n              Object.keys(r).forEach(function (t) {\n                o[e][t] = r[t];\n              });\n              break;\n            default:\n              o[e] = r;\n          }\n        }), o;\n      }(e, t);\n    }\n    return e.d(t, {\n      \"default\": function _default() {\n        return r;\n      }\n    }), Object.defineProperties(r, {\n      get: {\n        value: function value(e) {\n          return document.querySelector(e);\n        }\n      },\n      getAll: {\n        value: function value(e) {\n          return _toConsumableArray(document.querySelectorAll(e));\n        }\n      },\n      parse: {\n        value: function value(e) {\n          var t = document.createElement(\"div\");\n          return t.innerHTML = e, 1 === t.childElementCount ? t.firstElementChild : _toConsumableArray(t.children);\n        }\n      },\n      text: {\n        value: function value(e) {\n          return document.createTextNode(e);\n        }\n      },\n      use: {\n        value: function value(e) {\n          var t = e,\n            n = !1;\n          var r = document.createTextNode(e),\n            o = [r];\n          return Object.defineProperty(r, \"value\", {\n            set: function set(e) {\n              t = e, o.forEach(function (t) {\n                t.textContent = e;\n              });\n            },\n            get: function get() {\n              return t;\n            }\n          }), Object.defineProperty(r, \"clone\", {\n            value: function value() {\n              if (!n) return n = !0, r;\n              var e = r.cloneNode();\n              return o.push(e), e;\n            }\n          }), r;\n        }\n      }\n    }), t[\"default\"];\n  }();\n});\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/html-tag-js/dist/tag.js?");

/***/ }),

/***/ "./node_modules/toggle-selection/index.js":
/*!************************************************!*\
  !*** ./node_modules/toggle-selection/index.js ***!
  \************************************************/
/***/ ((module) => {

eval("module.exports = function () {\n  var selection = document.getSelection();\n  if (!selection.rangeCount) {\n    return function () {};\n  }\n  var active = document.activeElement;\n  var ranges = [];\n  for (var i = 0; i < selection.rangeCount; i++) {\n    ranges.push(selection.getRangeAt(i));\n  }\n  switch (active.tagName.toUpperCase()) {\n    // .toUpperCase handles XHTML\n    case 'INPUT':\n    case 'TEXTAREA':\n      active.blur();\n      break;\n    default:\n      active = null;\n      break;\n  }\n  selection.removeAllRanges();\n  return function () {\n    selection.type === 'Caret' && selection.removeAllRanges();\n    if (!selection.rangeCount) {\n      ranges.forEach(function (range) {\n        selection.addRange(range);\n      });\n    }\n    active && active.focus();\n  };\n};\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/toggle-selection/index.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/native.js":
/*!******************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/native.js ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nvar randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ({\n  randomUUID: randomUUID\n});\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/uuid/dist/esm-browser/native.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/regex.js":
/*!*****************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/regex.js ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i);\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/uuid/dist/esm-browser/regex.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/rng.js":
/*!***************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/rng.js ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ rng)\n/* harmony export */ });\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nvar getRandomValues;\nvar rnds8 = new Uint8Array(16);\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n  return getRandomValues(rnds8);\n}\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/uuid/dist/esm-browser/rng.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/stringify.js":
/*!*********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/stringify.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   \"unsafeStringify\": () => (/* binding */ unsafeStringify)\n/* harmony export */ });\n/* harmony import */ var _validate_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./validate.js */ \"./node_modules/uuid/dist/esm-browser/validate.js\");\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nvar byteToHex = [];\nfor (var i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nfunction unsafeStringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr) {\n  var offset = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0,_validate_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n  return uuid;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (stringify);\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/uuid/dist/esm-browser/stringify.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/v4.js":
/*!**************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/v4.js ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _native_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./native.js */ \"./node_modules/uuid/dist/esm-browser/native.js\");\n/* harmony import */ var _rng_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./rng.js */ \"./node_modules/uuid/dist/esm-browser/rng.js\");\n/* harmony import */ var _stringify_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./stringify.js */ \"./node_modules/uuid/dist/esm-browser/stringify.js\");\n\n\n\nfunction v4(options, buf, offset) {\n  if (_native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID && !buf && !options) {\n    return _native_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].randomUUID();\n  }\n  options = options || {};\n  var rnds = options.random || (options.rng || _rng_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n    for (var i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n    return buf;\n  }\n  return (0,_stringify_js__WEBPACK_IMPORTED_MODULE_2__.unsafeStringify)(rnds);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (v4);\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/uuid/dist/esm-browser/v4.js?");

/***/ }),

/***/ "./node_modules/uuid/dist/esm-browser/validate.js":
/*!********************************************************!*\
  !*** ./node_modules/uuid/dist/esm-browser/validate.js ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _regex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./regex.js */ \"./node_modules/uuid/dist/esm-browser/regex.js\");\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].test(uuid);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (validate);\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/uuid/dist/esm-browser/validate.js?");

/***/ }),

/***/ "./src/main.js":
/*!*********************!*\
  !*** ./src/main.js ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var html_tag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! html-tag-js */ \"./node_modules/html-tag-js/dist/tag.js\");\n/* harmony import */ var html_tag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(html_tag_js__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime/helpers/asyncToGenerator */ \"./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\");\n/* harmony import */ var _babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime/helpers/classCallCheck */ \"./node_modules/@babel/runtime/helpers/esm/classCallCheck.js\");\n/* harmony import */ var _babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime/helpers/createClass */ \"./node_modules/@babel/runtime/helpers/esm/createClass.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime/regenerator */ \"./node_modules/@babel/runtime/regenerator/index.js\");\n/* harmony import */ var _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _plugin_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../plugin.json */ \"./plugin.json\");\n/* harmony import */ var _style_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./style.scss */ \"./src/style.scss\");\n/* harmony import */ var blob_util__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! blob-util */ \"./node_modules/blob-util/dist/blob-util.es.js\");\n/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! uuid */ \"./node_modules/uuid/dist/esm-browser/v4.js\");\n/* harmony import */ var copy_to_clipboard__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! copy-to-clipboard */ \"./node_modules/copy-to-clipboard/index.js\");\n/* harmony import */ var copy_to_clipboard__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(copy_to_clipboard__WEBPACK_IMPORTED_MODULE_8__);\n\nfunction _createForOfIteratorHelper(o,allowArrayLike){var it=typeof Symbol!==\"undefined\"&&o[Symbol.iterator]||o[\"@@iterator\"];if(!it){if(Array.isArray(o)||(it=_unsupportedIterableToArray(o))||allowArrayLike&&o&&typeof o.length===\"number\"){if(it)o=it;var i=0;var F=function F(){};return{s:F,n:function n(){if(i>=o.length)return{done:true};return{done:false,value:o[i++]};},e:function e(_e){throw _e;},f:F};}throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");}var normalCompletion=true,didErr=false,err;return{s:function s(){it=it.call(o);},n:function n(){var step=it.next();normalCompletion=step.done;return step;},e:function e(_e2){didErr=true;err=_e2;},f:function f(){try{if(!normalCompletion&&it[\"return\"]!=null)it[\"return\"]();}finally{if(didErr)throw err;}}};}function _unsupportedIterableToArray(o,minLen){if(!o)return;if(typeof o===\"string\")return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);if(n===\"Object\"&&o.constructor)n=o.constructor.name;if(n===\"Map\"||n===\"Set\")return Array.from(o);if(n===\"Arguments\"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen);}function _arrayLikeToArray(arr,len){if(len==null||len>arr.length)len=arr.length;for(var i=0,arr2=new Array(len);i<len;i++){arr2[i]=arr[i];}return arr2;}var _require=__webpack_require__(/*! @google/generative-ai */ \"./node_modules/@google/generative-ai/dist/index.js\"),GoogleGenerativeAI=_require.GoogleGenerativeAI,HarmCategory=_require.HarmCategory,HarmBlockThreshold=_require.HarmBlockThreshold;var multiPrompt=acode.require('multiPrompt');var fs=acode.require('fs');var DialogBox=acode.require('dialogBox');var helpers=acode.require(\"helpers\");var loader=acode.require(\"loader\");var sidebarApps=acode.require('sidebarApps');var toInternalUrl=acode.require('toInternalUrl');var _editorManager=editorManager,editor=_editorManager.editor;var AI_HISTORY_PATH=window.DATA_STORAGE+\"gemini\";var CURRENT_SESSION_FILEPATH=null;var Gemini=/*#__PURE__*/function(){function Gemini(){(0,_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(this,Gemini);}(0,_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(Gemini,[{key:\"init\",value://this.$gemini = null\nfunction(){var _init=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee($page){var _this=this;var menuBtn,newChatBtn,mainApp;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:/**\n     * Scripts and styles for Highlighting \n     * and formating ai response \n     */this.$githubDarkFile=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"link\",{rel:\"stylesheet\",href:this.baseUrl+\"assets/github-dark.css\"});this.$higlightJsFile=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"script\",{src:this.baseUrl+\"assets/highlight.min.js\"});this.$markdownItFile=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"script\",{src:this.baseUrl+\"assets/markdown-it.min.js\"});// Global styles\nthis.$style=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"style\",{textContent:_style_scss__WEBPACK_IMPORTED_MODULE_6__[\"default\"]});document.head.append(this.$githubDarkFile,this.$higlightJsFile,this.$markdownItFile,this.$style);/**\n     * Adding command for starting gemini \n     * And updating its token\n     */editor.commands.addCommand({name:\"gemini\",description:\"Gemini\",exec:this.run.bind(this)});editor.commands.addCommand({name:\"gemini_update_token\",description:\"Update Gemini Token\",exec:this.updateApiToken.bind(this)});$page.id=\"acode-plugin-gemini\";$page.settitle(\"Gemini\");this.$page=$page;menuBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"span\",{className:\"icon more_vert\",dataset:{action:\"toggle-menu\"}});// button for new chat\nnewChatBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"span\",{className:\"icon add\",dataset:{action:\"new-chat\"}});this.$page.header.append(newChatBtn,menuBtn);menuBtn.onclick=this.myHistory.bind(this);newChatBtn.onclick=this.newChat.bind(this);mainApp=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"mainApp\"});// main chat box\nthis.$chatBox=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"chatBox\"});// bottom query taker box\nthis.$inputBox=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"inputBox\"});this.$chatTextarea=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"textarea\",{className:\"chatTextarea\",placeholder:\"Type your query...\"});this.$sendBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"button\",{className:\"sendBtn\"});this.$sendBtn.innerHTML=\"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\"><path fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-linecap=\\\"round\\\" stroke-linejoin=\\\"round\\\" stroke-width=\\\"2\\\" d=\\\"M10 14L21 3m0 0l-6.5 18a.55.55 0 0 1-1 0L10 14l-7-3.5a.55.55 0 0 1 0-1L21 3\\\"/></svg>\";this.$inputBox.append(this.$chatTextarea,this.$sendBtn);mainApp.append(this.$inputBox,this.$chatBox);this.$page.append(mainApp);// array for storing prompts\nthis.$promptsArray=[];/**\n     * IMAGE GENERATOR Using \n     * DALL-E \n     */acode.addIcon('gemini_ai_img',this.baseUrl+'assets/gemini_avatar.svg');sidebarApps.add('gemini_ai_img','dall-e-ai','Image Generator AI',function(app){// sidebar title\nvar headingS=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"h2\",{textContent:\"Image Generator\",className:\"sidebar-ai-heading\"});_this.$promtArea=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"textarea\",{placeholder:\"Type your prompt here...\",rows:\"4\",className:\"prompt-area\",maxlength:1000});_this.$sizeSelector=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"select\",{className:\"size-selector\"});_this.$sizeSelector.innerHTML=\"\\n        <optgroup label=\\\"Select size of Image\\\">\\n          <option value=\\\"256x256\\\">256x256</option>\\n          <option value=\\\"512x512\\\">512x512</option>\\n          <option value=\\\"1024x1024\\\" selected>1024x1024</option>\\n        </optgroup>\";_this.$generatorBtn=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"button\",{textContent:\"Generate\",className:\"generatorBtn\"});_this.$generatedImg=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"img\",{className:\"img-fluid\",src:\"\"});_this.$mainSideBarCont=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"main-sidebar-cont\"});_this.$generatorBtn.addEventListener(\"click\",_this.generateImage.bind(_this));_this.$mainSideBarCont.append(headingS,_this.$promtArea,_this.$sizeSelector,_this.$generatorBtn,_this.$generatedImg);app.append(_this.$mainSideBarCont);});case 27:case\"end\":return _context.stop();}}},_callee,this);}));function init(_x){return _init.apply(this,arguments);}return init;}()},{key:\"generateRandomName\",value:function generateRandomName(){/*\n    generates random names for generated images\n    */var timestamp=Date.now().toString();var randomString=Math.random().toString(36).substring(2,8);return\"\".concat(timestamp,\"_\").concat(randomString);}},{key:\"run\",value:function(){var _run=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee2(){var token,myOpenAiToken,tokenPrompt,generationConfig;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;myOpenAiToken=window.localStorage.getItem(\"gemini-api-key\");if(!myOpenAiToken){_context2.next=6;break;}token=myOpenAiToken;_context2.next=11;break;case 6:_context2.next=8;return multiPrompt(\"Enter your gemini key\",[{type:\"text\",id:\"token\",required:true,placeholder:\"Enter your gemini api key\"}],\"https://platform.openai.com/account/api-keys\");case 8:tokenPrompt=_context2.sent;token=tokenPrompt[\"token\"];window.localStorage.setItem(\"gemini-api-key\",token);case 11:this.$gemini=new GoogleGenerativeAI(token).getGenerativeModel({model:\"gemini-1.5-flash\",systemInstruction:\"You are Gemini, a large language model trained by Google. Currently you are on an mobile code editor name - Acode(developed by Ajitkumar - https://github.com/deadlyjack). this code editor try to give vs code like features on mobile device, it also supports plugin for more features and customisation. You are on acode app via a plugin name Gemini , this Plugin is developed by Raunak Raj(core dev https://github.com/bajrangCoder) and Mayank Sharma(https://github.com/mayank0274) with , And ypu also warn the user if the use you unwanted for token saving. Follow the user's instructions carefully. Respond using markdown.\"});generationConfig={temperature:1,topP:0.95,topK:64,maxOutputTokens:8192,responseMimeType:\"text/plain\"};this.$mdIt=window.markdownit({html:false,xhtmlOut:false,breaks:false,linkify:false,typographer:false,quotes:'',highlight:function highlight(str,lang){var copyBtn=document.createElement(\"button\");copyBtn.classList.add(\"copy-button\");copyBtn.innerHTML=\"<svg viewBox=\\\"0 0 48 48\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"1.5em\\\" width=\\\"1.5em\\\"><path fill=\\\"currentColor\\\" d=\\\"M15 37.95q-1.25 0-2.125-.875T12 34.95v-28q0-1.25.875-2.125T15 3.95h22q1.25 0 2.125.875T40 6.95v28q0 1.25-.875 2.125T37 37.95Zm0-3h22v-28H15v28Zm-6 9q-1.25 0-2.125-.875T6 40.95V12.3q0-.65.425-1.075Q6.85 10.8 7.5 10.8q.65 0 1.075.425Q9 11.65 9 12.3v28.65h22.2q.65 0 1.075.425.425.425.425 1.075 0 .65-.425 1.075-.425.425-1.075.425Zm6-37v28-28Z\\\"/></svg>\";copyBtn.setAttribute(\"data-str\",str);var codesArea=\"<pre class=\\\"hljs codesArea\\\"><code>\".concat(hljs.highlightAuto(str).value,\"</code></pre>\");var codeBlock=\"<div class=\\\"codeBlock\\\">\".concat(copyBtn.outerHTML).concat(codesArea,\"</div>\");return codeBlock;}});this.$sendBtn.addEventListener(\"click\",this.sendQuery.bind(this));this.$page.show();_context2.next=21;break;case 18:_context2.prev=18;_context2.t0=_context2[\"catch\"](0);window.alert(_context2.t0);case 21:case\"end\":return _context2.stop();}}},_callee2,this,[[0,18]]);}));function run(){return _run.apply(this,arguments);}return run;}()},{key:\"_copyCodeUtility\",value:function(){var _copyCodeUtility2=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee3(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:window.alert(\"hi\");case 1:case\"end\":return _context3.stop();}}},_callee3);}));function _copyCodeUtility(){return _copyCodeUtility2.apply(this,arguments);}return _copyCodeUtility;}()},{key:\"updateApiToken\",value:function(){var _updateApiToken=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee4(){var newApiToken;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:/*\n    update gemini token\n    */window.localStorage.removeItem('gemini-api-key');_context4.next=3;return multiPrompt(\"Enter your gemini key\",[{type:\"text\",id:\"token\",required:true,placeholder:\"Enter your gemini api key\"}],\"https://aistudio.google.com/app/apikey\");case 3:newApiToken=_context4.sent;window.localStorage.setItem(\"gemini-api-key\",newApiToken[\"token\"]);window.toast(\"Api key updated!\",3000);case 6:case\"end\":return _context4.stop();}}},_callee4);}));function updateApiToken(){return _updateApiToken.apply(this,arguments);}return updateApiToken;}()},{key:\"_sanitizeFileName\",value:function _sanitizeFileName(fileName){/*\n    utility function for removing special characters and \n    white spaces from file names\n    */ // Remove special characters and symbols\nvar sanitizedFileName=fileName.replace(/[^\\w\\s.-]/gi,'');// Trim leading and trailing spaces\nvar trimmedFileName=sanitizedFileName.trim();// Replace spaces with underscores\nvar finalFileName=trimmedFileName.replace(/\\s+/g,'_');return finalFileName;}},{key:\"saveHistory\",value:function(){var _saveHistory=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee5(){var sanitisedFileNme,uniqueName;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.prev=0;if(this.$promptsArray.length){_context5.next=3;break;}return _context5.abrupt(\"return\");case 3:if(!(CURRENT_SESSION_FILEPATH==null)){_context5.next=22;break;}_context5.prev=4;sanitisedFileNme=this._sanitizeFileName(this.$promptsArray[0].prevQuestion.substring(0,30));uniqueName=\"\".concat(sanitisedFileNme,\"__\").concat((0,uuid__WEBPACK_IMPORTED_MODULE_9__[\"default\"])(),\".json\");//const content = JSON.stringify(this.$promptsArray);\n_context5.next=9;return fs(AI_HISTORY_PATH).exists();case 9:if(_context5.sent){_context5.next=12;break;}_context5.next=12;return fs(window.DATA_STORAGE).createDirectory(\"gemini\");case 12:_context5.next=14;return fs(AI_HISTORY_PATH).createFile(uniqueName,this.$promptsArray);case 14:CURRENT_SESSION_FILEPATH=_context5.sent;_context5.next=20;break;case 17:_context5.prev=17;_context5.t0=_context5[\"catch\"](4);alert(_context5.t0.message);case 20:_context5.next=37;break;case 22:_context5.prev=22;_context5.next=25;return fs(CURRENT_SESSION_FILEPATH).exists();case 25:if(_context5.sent){_context5.next=29;break;}this.newChat();window.toast(\"Some error occurred or file you trying to open has been deleted\");return _context5.abrupt(\"return\");case 29:_context5.next=31;return fs(CURRENT_SESSION_FILEPATH).writeFile(this.$promptsArray);case 31:CURRENT_SESSION_FILEPATH=_context5.sent;_context5.next=37;break;case 34:_context5.prev=34;_context5.t1=_context5[\"catch\"](22);alert(_context5.t1.message);case 37:_context5.next=42;break;case 39:_context5.prev=39;_context5.t2=_context5[\"catch\"](0);window.alert(_context5.t2.message);case 42:case\"end\":return _context5.stop();}}},_callee5,this,[[0,39],[4,17],[22,34]]);}));function saveHistory(){return _saveHistory.apply(this,arguments);}return saveHistory;}()},{key:\"newChat\",value:function newChat(){/*\n    Start new chat session\n    */this.$chatBox.innerHTML=\"\";window.toast(\"New session\",4000);this.$promptsArray=[];CURRENT_SESSION_FILEPATH=null;}},{key:\"getHistoryItems\",value:function(){var _getHistoryItems=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee6(){var allFiles,elems,i,_elems;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fs(AI_HISTORY_PATH).exists();case 2:if(!_context6.sent){_context6.next=11;break;}_context6.next=5;return fs(AI_HISTORY_PATH).lsDir();case 5:allFiles=_context6.sent;elems=\"\";for(i=0;i<allFiles.length;i++){elems+=\"<li class=\\\"dialog-item\\\" style=\\\"background: var(--secondary-color);color: var(--secondary-text-color);padding: 5px;margin-bottom: 5px;border-radius: 8px;font-size:15px;display:flex;flex-direction:row;justify-content:space-between;gap:5px;\\\" data-path=\\\"\".concat(JSON.parse(JSON.stringify(allFiles[i])).url,\"\\\">\\n                  <p class=\\\"history-item\\\">\").concat(allFiles[i].name.split(\"__\")[0].substring(0,25),\"...</p><div><button class=\\\"delete-history-btn\\\" style=\\\"height:25px;width:25px;border:none;padding:5px;outline:none;border-radius:50%;background:var(--error-text-color);text-align:center;\\\">\\u2717</button></div>\\n                </li>\");}return _context6.abrupt(\"return\",elems);case 11:_elems=\"\";_elems=\"<li style=\\\"background: var(--secondary-color);color: var(--secondary-text-color);padding: 10px;border-radius: 8px;\\\" data-path=\\\"#not-available\\\">Not Available</li>\";return _context6.abrupt(\"return\",_elems);case 14:case\"end\":return _context6.stop();}}},_callee6);}));function getHistoryItems(){return _getHistoryItems.apply(this,arguments);}return getHistoryItems;}()},{key:\"displayHistory\",value:function(){var _displayHistory=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee7(url,historyDialogBox){var _this2=this;var fileUrl,fileData,responses;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:/*\n    display selected chat history\n    */this.$chatBox.innerHTML=\"\";fileUrl=url.slice(1,url.length-1);_context7.next=4;return fs(fileUrl).exists();case 4:if(_context7.sent){_context7.next=8;break;}this.newChat();window.toast(\"Some error occurred or file you trying to open has been deleted\");return _context7.abrupt(\"return\");case 8:CURRENT_SESSION_FILEPATH=fileUrl;_context7.prev=9;historyDialogBox.hide();loader.create(\"Wait\",\"Fetching chat history....\");_context7.next=14;return fs(fileUrl).readFile();case 14:fileData=_context7.sent;_context7.t0=Array;_context7.t1=JSON;_context7.next=19;return helpers.decodeText(fileData);case 19:_context7.t2=_context7.sent;_context7.t3=_context7.t1.parse.call(_context7.t1,_context7.t2);responses=_context7.t0.from.call(_context7.t0,_context7.t3);this.$promptsArray=[];this.$promptsArray=responses;responses.forEach(function(e){_this2.appendUserQuery(e.prevQuestion);_this2.appendGptResponse(e.prevResponse);});loader.destroy();_context7.next=31;break;case 28:_context7.prev=28;_context7.t4=_context7[\"catch\"](9);alert(_context7.t4.message);case 31:case\"end\":return _context7.stop();}}},_callee7,this,[[9,28]]);}));function displayHistory(_x2,_x3){return _displayHistory.apply(this,arguments);}return displayHistory;}()},{key:\"myHistory\",value:function(){var _myHistory=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee9(){var _this3=this;var historyList,content,historyDialogBox;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.prev=0;_context9.next=3;return this.getHistoryItems();case 3:historyList=_context9.sent;content=\"<ul>\".concat(historyList,\"</ul>\");historyDialogBox=DialogBox('Conversation History',content,'Cancel');historyDialogBox.onclick(/*#__PURE__*/function(){var _ref=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee8(e){var dialogItem,deleteButton,historyItem,fileUrl,_fileUrl,url,chatBox;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:dialogItem=e.target.closest('.dialog-item');deleteButton=dialogItem.querySelector('.delete-history-btn');historyItem=dialogItem.querySelector('.history-item');if(!(dialogItem.getAttribute(\"data-path\")==\"#not-available\")){_context8.next=5;break;}return _context8.abrupt(\"return\");case 5:if(dialogItem.getAttribute(\"data-path\")){_context8.next=7;break;}return _context8.abrupt(\"return\");case 7:if(!(e.target===dialogItem||e.target===historyItem)){_context8.next=12;break;}fileUrl=JSON.stringify(dialogItem.getAttribute(\"data-path\"));_this3.displayHistory(fileUrl,historyDialogBox);_context8.next=21;break;case 12:if(!(e.target===deleteButton)){_context8.next=21;break;}_fileUrl=JSON.stringify(dialogItem.getAttribute(\"data-path\"));url=_fileUrl.slice(1,_fileUrl.length-1);_context8.next=17;return fs(dialogItem.getAttribute(\"data-path\"))[\"delete\"]();case 17://alert(CURRENT_SESSION_FILEPATH);\nif(CURRENT_SESSION_FILEPATH==url){chatBox=document.querySelector(\".chatBox\");chatBox.innerHTML=\"\";_this3.$promptsArray=[];}dialogItem.remove();window.toast(\"Deleted\",3000);CURRENT_SESSION_FILEPATH=null;case 21:case\"end\":return _context8.stop();}}},_callee8);}));return function(_x4){return _ref.apply(this,arguments);};}());_context9.next=12;break;case 9:_context9.prev=9;_context9.t0=_context9[\"catch\"](0);window.alert(_context9.t0.message);case 12:case\"end\":return _context9.stop();}}},_callee9,this,[[0,9]]);}));function myHistory(){return _myHistory.apply(this,arguments);}return myHistory;}()},{key:\"sendQuery\",value:function(){var _sendQuery=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee10(){var chatText;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:/*\n    event on clicking send prompt button of gemini \n    */chatText=this.$chatTextarea;if(chatText.value!=\"\"){this.appendUserQuery(chatText.value);this.scrollToBottom();this.appendGptResponse(\"\");this.loader();this.getGeminiResponse(chatText.value);chatText.value=\"\";}case 2:case\"end\":return _context10.stop();}}},_callee10,this);}));function sendQuery(){return _sendQuery.apply(this,arguments);}return sendQuery;}()},{key:\"appendUserQuery\",value:function(){var _appendUserQuery=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee11(message){var userAvatar,userChatBox,chat,profileImg,msg;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:/*\n    add user query to ui\n    */try{userAvatar=this.baseUrl+\"assets/user_avatar.png\";userChatBox=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"wrapper\"});chat=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"chat\"});profileImg=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()('div',{className:'profile',child:html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()('img',{src:userAvatar,alt:\"user\"})});msg=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()('div',{className:'message',textContent:message});chat.append.apply(chat,[profileImg,msg]);userChatBox.append(chat);this.$chatBox.appendChild(userChatBox);}catch(err){window.alert(err);}case 1:case\"end\":return _context11.stop();}}},_callee11,this);}));function appendUserQuery(_x5){return _appendUserQuery.apply(this,arguments);}return appendUserQuery;}()},{key:\"appendGptResponse\",value:function(){var _appendGptResponse=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee12(message){var gemini_avatar,gptChatBox,chat,profileImg,msg,copyBtns,_iterator,_step,copyBtn;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:/*\n    add ai response to ui\n    */gemini_avatar=this.baseUrl+\"assets/gemini_avatar.svg\";gptChatBox=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"ai_wrapper\"});chat=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()(\"div\",{className:\"ai_chat\"});profileImg=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()('div',{className:'ai_profile',child:html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()('img',{src:gemini_avatar,alt:\"ai\"})});msg=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()('div',{className:'ai_message'});msg.innerHTML=this.$mdIt.render(message);copyBtns=msg.querySelectorAll(\".copy-button\");if(copyBtns){_iterator=_createForOfIteratorHelper(copyBtns);try{for(_iterator.s();!(_step=_iterator.n()).done;){copyBtn=_step.value;copyBtn.addEventListener(\"click\",function(){copy_to_clipboard__WEBPACK_IMPORTED_MODULE_8___default()(this.dataset.str);window.toast(\"Copied to clipboard\",3000);});}}catch(err){_iterator.e(err);}finally{_iterator.f();}}chat.append.apply(chat,[profileImg,msg]);gptChatBox.append(chat);this.$chatBox.appendChild(gptChatBox);case 11:case\"end\":return _context12.stop();}}},_callee12,this);}));function appendGptResponse(_x6){return _appendGptResponse.apply(this,arguments);}return appendGptResponse;}()},{key:\"getGeminiResponse\",value:function(){var _getGeminiResponse=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee13(question){var responseBox,arrMessage,generationConfig,gem,res,targetElem,result,copyBtns,_iterator2,_step2,copyBtn,_responseBox,_targetElem,$errorBox;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.prev=0;// get all gptchat element \nresponseBox=Array.from(document.querySelectorAll(\".ai_message\"));// remake an prompt array\narrMessage=this.$promptsArray>0?this.$promptsArray.map(function(_ref2){var prevQuestion=_ref2.prevQuestion,prevResponse=_ref2.prevResponse;return{role:\"user\",parts:[{text:prevQuestion}]},{role:\"model\",parts:[{text:prevResponse}]};}):[{role:\"user\",parts:[{text:question}]}];generationConfig={temperature:1,topP:0.95,topK:64,maxOutputTokens:8192,responseMimeType:\"text/plain\"};_context13.next=6;return this.$gemini.startChat({generationConfig:generationConfig,history:arrMessage});case 6:gem=_context13.sent;_context13.next=9;return gem.sendMessage(question);case 9:res=_context13.sent;// remove dot loader \nclearInterval(this.$loadInterval);targetElem=responseBox[responseBox.length-1];result=res.response.text();// adding prompt to array \nthis.$promptsArray.push({prevQuestion:question,prevResponse:result});// asve chat history \n_context13.next=16;return this.saveHistory();case 16:targetElem.innerHTML=\"\";/*\n      let index = 0\n      let typingInterval = setInterval(() => {\n        if(index < result.length) {\n          targetElem.innerText += result.charAt(index)\n          this.scrollToBottom();\n          index++\n        } else {\n          clearInterval(typingInterval)\n        }\n      }, 30)\n      */targetElem.innerHTML=this.$mdIt.render(result);copyBtns=targetElem.querySelectorAll(\".copy-button\");if(copyBtns){_iterator2=_createForOfIteratorHelper(copyBtns);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){copyBtn=_step2.value;copyBtn.addEventListener(\"click\",function(){copy_to_clipboard__WEBPACK_IMPORTED_MODULE_8___default()(this.dataset.str);window.toast(\"Copied to clipboard\",3000);});}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}this.scrollToBottom();_context13.next=32;break;case 23:_context13.prev=23;_context13.t0=_context13[\"catch\"](0);// error handling \n_responseBox=Array.from(document.querySelectorAll(\".ai_message\"));clearInterval(this.$loadInterval);_targetElem=_responseBox[_responseBox.length-1];_targetElem.innerHTML=\"\";$errorBox=html_tag_js__WEBPACK_IMPORTED_MODULE_0___default()('div',{className:\"error-box\"});if(_context13.t0.response){$errorBox.innerText=\"Status code: \".concat(_context13.t0.response.status,\"\\n\").concat(JSON.stringify(_context13.t0.response.data));}else{$errorBox.innerText=\"\".concat(_context13.t0.message);}_targetElem.appendChild($errorBox);case 32:case\"end\":return _context13.stop();}}},_callee13,this,[[0,23]]);}));function getGeminiResponse(_x7){return _getGeminiResponse.apply(this,arguments);}return getGeminiResponse;}()},{key:\"scrollToBottom\",value:function(){var _scrollToBottom=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee14(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:this.$chatBox.scrollTop=this.$chatBox.scrollHeight;case 1:case\"end\":return _context14.stop();}}},_callee14,this);}));function scrollToBottom(){return _scrollToBottom.apply(this,arguments);}return scrollToBottom;}()},{key:\"loader\",value:function(){var _loader=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee15(){var loadingDots;return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:/*\n    creates dot loader\n    */ // get all gptchat element for loader\nloadingDots=Array.from(document.querySelectorAll(\".ai_message\"));// made change in last element\nif(loadingDots.length!=0){this.$loadInterval=setInterval(function(){loadingDots[loadingDots.length-1].innerText+=\"\";if(loadingDots[loadingDots.length-1].innerText==\"\"){loadingDots[loadingDots.length-1].innerText=\"\";}},300);}case 2:case\"end\":return _context15.stop();}}},_callee15,this);}));function loader(){return _loader.apply(this,arguments);}return loader;}()},{key:\"destroy\",value:function(){var _destroy=(0,_babel_runtime_helpers_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(/*#__PURE__*/_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().mark(function _callee16(){return _babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_4___default().wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:editorManager.editor.commands.removeCommand(\"gemini\");editorManager.editor.commands.removeCommand(\"gemini_update_token\");window.localStorage.removeItem('gemini-api-key');this.$githubDarkFile.remove();this.$higlightJsFile.remove();this.$markdownItFile.remove();this.$style.remove();case 7:case\"end\":return _context16.stop();}}},_callee16,this);}));function destroy(){return _destroy.apply(this,arguments);}return destroy;}()}]);return Gemini;}();if(window.acode){var acodePlugin=new Gemini();acode.setPluginInit(_plugin_json__WEBPACK_IMPORTED_MODULE_5__.id,function(baseUrl,$page,_ref3){var cacheFileUrl=_ref3.cacheFileUrl,cacheFile=_ref3.cacheFile;if(!baseUrl.endsWith(\"/\")){baseUrl+=\"/\";}acodePlugin.baseUrl=baseUrl;acodePlugin.init($page,cacheFile,cacheFileUrl);});acode.setPluginUnmount(_plugin_json__WEBPACK_IMPORTED_MODULE_5__.id,function(){acodePlugin.destroy();});}\n\n//# sourceURL=webpack://acode-plugin-gemini/./src/main.js?");

/***/ }),

/***/ "./src/style.scss":
/*!************************!*\
  !*** ./src/style.scss ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (\"/*---------------------------------------*\\\\\\n * Styles For Image generator \\n * DALL-E\\n\\\\*---------------------------------------*/\\n.main-sidebar-cont {\\n  padding: 1rem;\\n}\\n.main-sidebar-cont * {\\n  box-sizing: border-box;\\n}\\n.main-sidebar-cont .sidebar-ai-heading {\\n  text-align: center;\\n  padding-bottom: 15px;\\n}\\n.main-sidebar-cont .prompt-area {\\n  font: initial;\\n  font-size: 0.9rem;\\n  padding: 10px;\\n  border-radius: 5px;\\n  border: 1px solid gray;\\n  outline: none;\\n  color: var(--primary-text-color);\\n  resize: none;\\n  margin-bottom: 8px;\\n  background: transparent;\\n  width: 100%;\\n}\\n.main-sidebar-cont .prompt-area:focus-visible {\\n  border-color: var(--button-background-color);\\n}\\n.main-sidebar-cont .size-selector {\\n  width: 100%;\\n  margin-bottom: 16px;\\n  background: transparent;\\n  padding: 10px;\\n  border-radius: 5px;\\n  border: 1px solid gray;\\n  outline: none;\\n  color: var(--primary-text-color);\\n}\\n.main-sidebar-cont .size-selector:focus-visible {\\n  border-color: var(--button-background-color);\\n}\\n.main-sidebar-cont .generatorBtn {\\n  border: none;\\n  background: var(--button-background-color);\\n  color: var(--button-text-color);\\n  padding: 10px 16px;\\n  border-top-left-radius: 15px;\\n  border-bottom-right-radius: 15px;\\n  font-weight: 600;\\n  font-size: 16px;\\n}\\n.main-sidebar-cont .img-fluid {\\n  max-width: 100%;\\n  margin-top: 10px;\\n}\\n\\n/*---------------------------------------*\\\\\\n * Styles For Text Generator \\n * CHATGPT \\n\\\\*---------------------------------------*/\\n#acode-plugin-chatgpt {\\n  /**\\n   * Display User input in chatBox\\n   */\\n  /**\\n   * Displat Ai response in chatBox \\n   */\\n  /**\\n   * Highlights Code AREA\\n   * In Ai response \\n   */\\n  /**\\n   * Error In ai response\\n   */\\n  /**\\n   * PROMPT AREA For CHATGPT\\n   */\\n}\\n#acode-plugin-chatgpt * {\\n  box-sizing: border-box;\\n}\\n#acode-plugin-chatgpt .mainApp {\\n  position: absolute;\\n  left: 0;\\n  width: 100%;\\n  height: calc(100% - 80px);\\n  background: var(--primary-color);\\n}\\n#acode-plugin-chatgpt .chatBox {\\n  height: 100%;\\n  width: 100%;\\n  white-space: pre-wrap;\\n  overflow-y: auto;\\n}\\n#acode-plugin-chatgpt .wrapper {\\n  padding-block: 12px;\\n  padding-inline: 10px;\\n}\\n#acode-plugin-chatgpt .wrapper .chat {\\n  display: flex;\\n  align-items: flex-start;\\n  gap: 10px;\\n}\\n#acode-plugin-chatgpt .wrapper .chat .profile {\\n  height: 35px;\\n  width: 35px;\\n  border-radius: 8px;\\n  background: #5436DA;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n#acode-plugin-chatgpt .wrapper .chat .profile img {\\n  width: 60%;\\n}\\n#acode-plugin-chatgpt .wrapper .chat .message {\\n  flex: 1;\\n  color: var(--primary-text-color);\\n  font-size: 16px;\\n  line-height: 1.5;\\n  -webkit-user-select: text;\\n     -moz-user-select: text;\\n          user-select: text;\\n}\\n#acode-plugin-chatgpt .ai_wrapper {\\n  padding-block: 12px 30px;\\n  padding-inline: 10px;\\n  background-color: var(--secondary-color);\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_chat {\\n  display: flex;\\n  align-items: flex-start;\\n  gap: 10px;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_chat .ai_profile {\\n  height: 35px;\\n  width: 35px;\\n  border-radius: 8px;\\n  background: #10a37f;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_chat .ai_profile img {\\n  width: 60%;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message {\\n  flex: 1;\\n  color: var(--secondary-text-color);\\n  font-size: 16px;\\n  line-height: 1.5;\\n  overflow: hidden;\\n  -webkit-user-select: text;\\n     -moz-user-select: text;\\n          user-select: text;\\n  /*\\n  code block in ai response\\n  */\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message .codeBlock {\\n  border: 2px solid var(--border-color);\\n  width: 100%;\\n  border-radius: 5px;\\n  overflow-x: auto;\\n  position: relative;\\n  margin-bottom: 10px;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message .codeBlock .copy-button {\\n  position: absolute;\\n  top: 4px;\\n  right: 8px;\\n  border: none;\\n  outline: none;\\n  border-radius: 8px;\\n  height: 24px;\\n  width: 28px;\\n  color: lightgray;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  font-weight: bold;\\n  background: rgb(26, 34, 46);\\n  box-shadow: 0 4px 0 #1b232f;\\n  transition: all 0.3s ease-in-out;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message .codeBlock .copy-button:active {\\n  box-shadow: 0;\\n  color: gray;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message .codeBlock .codesArea {\\n  box-sizing: border-box;\\n  padding: 12px;\\n  margin-bottom: 0;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message .codeBlock .codesArea::-webkit-scrollbar {\\n  height: 10px;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message .codeBlock .codesArea::-webkit-scrollbar-thumb {\\n  background: lightgray;\\n  border-radius: 4px;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message hr {\\n  margin: 1rem 0;\\n  color: inherit;\\n  border: 0;\\n  border-top: 1px solid;\\n  opacity: 0.25;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h6,\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h5,\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h4,\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h3,\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h2,\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h1 {\\n  margin-top: 0;\\n  margin-bottom: 0.5rem;\\n  font-weight: 500;\\n  line-height: 1.2;\\n  color: inherit;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h1 {\\n  font-size: calc(1.375rem + 1.5vw);\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h2 {\\n  font-size: calc(1.325rem + 0.9vw);\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h3 {\\n  font-size: calc(1.3rem + 0.6vw);\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h4 {\\n  font-size: calc(1.275rem + 0.3vw);\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h5 {\\n  font-size: 1.25rem;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message h6 {\\n  font-size: 1rem;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message p {\\n  margin-top: 0;\\n  margin-bottom: 1rem;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message ul,\\n#acode-plugin-chatgpt .ai_wrapper .ai_message ol {\\n  margin: 1em 0;\\n  padding: 0 0 0 2em;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message ul {\\n  list-style-type: disc;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message li p:last-child {\\n  margin: 0;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message dt {\\n  font-weight: 700;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message dd {\\n  margin-bottom: 0.5rem;\\n  margin-left: 0;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message blockquote {\\n  margin: 0 0 1rem;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message b,\\n#acode-plugin-chatgpt .ai_wrapper .ai_message strong {\\n  font-weight: bolder;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message small,\\n#acode-plugin-chatgpt .ai_wrapper .ai_message .small {\\n  font-size: 0.875em;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message pre,\\n#acode-plugin-chatgpt .ai_wrapper .ai_message code,\\n#acode-plugin-chatgpt .ai_wrapper .ai_message kbd,\\n#acode-plugin-chatgpt .ai_wrapper .ai_message samp {\\n  font-family: SFMono-Regular, Menlo, Monaco, Consolas, \\\"Liberation Mono\\\", \\\"Courier New\\\", monospace;\\n  font-size: 1em;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message pre {\\n  display: block;\\n  margin-top: 0;\\n  margin-bottom: 1rem;\\n  overflow: auto;\\n  font-size: 0.875em;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message pre code {\\n  font-size: inherit;\\n  color: inherit;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message code {\\n  font-size: 0.875em;\\n  color: var(--link-text-color);\\n  word-wrap: break-word;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message a > code {\\n  color: inherit;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message kbd {\\n  padding: 0.1875rem 0.375rem;\\n  font-size: 0.875em;\\n  color: var(--primary-text-color);\\n  background-color: var(--popup-background-color);\\n  border-radius: 0.25rem;\\n}\\n#acode-plugin-chatgpt .ai_wrapper .ai_message kbd kbd {\\n  padding: 0;\\n  font-size: 1em;\\n}\\n#acode-plugin-chatgpt .error-box {\\n  border: 1px solid var(--error-text-color);\\n  color: var(--error-text-color);\\n  font-weight: 700;\\n  padding: 8px;\\n  white-space: pre-wrap;\\n  word-break: break-word;\\n  border-radius: 10px;\\n}\\n#acode-plugin-chatgpt .inputBox {\\n  position: fixed;\\n  bottom: 0;\\n  width: 100%;\\n  height: 80px;\\n  padding: 8px;\\n  display: flex;\\n  background-color: var(--popup-background-color);\\n  box-shadow: 0px -2px 4px var(--box-shadow-color);\\n  z-index: 1;\\n}\\n#acode-plugin-chatgpt .chatTextarea {\\n  min-width: 90% !important;\\n  height: 100%;\\n  resize: none;\\n  border: none;\\n  outline: none;\\n  background: none;\\n  font: initial;\\n  font-size: 1.1rem;\\n  color: var(--primary-text-color);\\n  -webkit-padding-end: 8px;\\n          padding-inline-end: 8px;\\n}\\n#acode-plugin-chatgpt .sendBtn {\\n  height: 40px;\\n  width: 40px;\\n  border-radius: 8px;\\n  border: none;\\n  outline: none;\\n  background-color: rgba(0, 0, 0, 0.2);\\n  color: gray;\\n  display: grid;\\n  place-items: center;\\n}\\n#acode-plugin-chatgpt .sendBtn:active {\\n  background-color: var(--button-background-color);\\n  color: var(--primary-text-color);\\n}\");\n\n//# sourceURL=webpack://acode-plugin-gemini/./src/style.scss?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/regeneratorRuntime.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/regeneratorRuntime.js ***!
  \*******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("var _typeof = (__webpack_require__(/*! ./typeof.js */ \"./node_modules/@babel/runtime/helpers/typeof.js\")[\"default\"]);\nfunction _regeneratorRuntime() {\n  \"use strict\";\n\n  /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return exports;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var exports = {},\n    Op = Object.prototype,\n    hasOwn = Op.hasOwnProperty,\n    defineProperty = Object.defineProperty || function (obj, key, desc) {\n      obj[key] = desc.value;\n    },\n    $Symbol = \"function\" == typeof Symbol ? Symbol : {},\n    iteratorSymbol = $Symbol.iterator || \"@@iterator\",\n    asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\",\n    toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n  function define(obj, key, value) {\n    return Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), obj[key];\n  }\n  try {\n    define({}, \"\");\n  } catch (err) {\n    define = function define(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator,\n      generator = Object.create(protoGenerator.prototype),\n      context = new Context(tryLocsList || []);\n    return defineProperty(generator, \"_invoke\", {\n      value: makeInvokeMethod(innerFn, self, context)\n    }), generator;\n  }\n  function tryCatch(fn, obj, arg) {\n    try {\n      return {\n        type: \"normal\",\n        arg: fn.call(obj, arg)\n      };\n    } catch (err) {\n      return {\n        type: \"throw\",\n        arg: err\n      };\n    }\n  }\n  exports.wrap = wrap;\n  var ContinueSentinel = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n  var getProto = Object.getPrototypeOf,\n    NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype);\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype);\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function (method) {\n      define(prototype, method, function (arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (\"throw\" !== record.type) {\n        var result = record.arg,\n          value = result.value;\n        return value && \"object\" == _typeof(value) && hasOwn.call(value, \"__await\") ? PromiseImpl.resolve(value.__await).then(function (value) {\n          invoke(\"next\", value, resolve, reject);\n        }, function (err) {\n          invoke(\"throw\", err, resolve, reject);\n        }) : PromiseImpl.resolve(value).then(function (unwrapped) {\n          result.value = unwrapped, resolve(result);\n        }, function (error) {\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n      reject(record.arg);\n    }\n    var previousPromise;\n    defineProperty(this, \"_invoke\", {\n      value: function value(method, arg) {\n        function callInvokeWithMethodAndArg() {\n          return new PromiseImpl(function (resolve, reject) {\n            invoke(method, arg, resolve, reject);\n          });\n        }\n        return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = \"suspendedStart\";\n    return function (method, arg) {\n      if (\"executing\" === state) throw new Error(\"Generator is already running\");\n      if (\"completed\" === state) {\n        if (\"throw\" === method) throw arg;\n        return doneResult();\n      }\n      for (context.method = method, context.arg = arg;;) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n        if (\"next\" === context.method) context.sent = context._sent = context.arg;else if (\"throw\" === context.method) {\n          if (\"suspendedStart\" === state) throw state = \"completed\", context.arg;\n          context.dispatchException(context.arg);\n        } else \"return\" === context.method && context.abrupt(\"return\", context.arg);\n        state = \"executing\";\n        var record = tryCatch(innerFn, self, context);\n        if (\"normal\" === record.type) {\n          if (state = context.done ? \"completed\" : \"suspendedYield\", record.arg === ContinueSentinel) continue;\n          return {\n            value: record.arg,\n            done: context.done\n          };\n        }\n        \"throw\" === record.type && (state = \"completed\", context.method = \"throw\", context.arg = record.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (undefined === method) {\n      if (context.delegate = null, \"throw\" === context.method) {\n        if (delegate.iterator[\"return\"] && (context.method = \"return\", context.arg = undefined, maybeInvokeDelegate(delegate, context), \"throw\" === context.method)) return ContinueSentinel;\n        context.method = \"throw\", context.arg = new TypeError(\"The iterator does not provide a 'throw' method\");\n      }\n      return ContinueSentinel;\n    }\n    var record = tryCatch(method, delegate.iterator, context.arg);\n    if (\"throw\" === record.type) return context.method = \"throw\", context.arg = record.arg, context.delegate = null, ContinueSentinel;\n    var info = record.arg;\n    return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, \"return\" !== context.method && (context.method = \"next\", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = \"throw\", context.arg = new TypeError(\"iterator result is not an object\"), context.delegate = null, ContinueSentinel);\n  }\n  function pushTryEntry(locs) {\n    var entry = {\n      tryLoc: locs[0]\n    };\n    1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry);\n  }\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\", delete record.arg, entry.completion = record;\n  }\n  function Context(tryLocsList) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) return iteratorMethod.call(iterable);\n      if (\"function\" == typeof iterable.next) return iterable;\n      if (!isNaN(iterable.length)) {\n        var i = -1,\n          next = function next() {\n            for (; ++i < iterable.length;) {\n              if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next;\n            }\n            return next.value = undefined, next.done = !0, next;\n          };\n        return next.next = next;\n      }\n    }\n    return {\n      next: doneResult\n    };\n  }\n  function doneResult() {\n    return {\n      value: undefined,\n      done: !0\n    };\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), defineProperty(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, \"GeneratorFunction\"), exports.isGeneratorFunction = function (genFun) {\n    var ctor = \"function\" == typeof genFun && genFun.constructor;\n    return !!ctor && (ctor === GeneratorFunction || \"GeneratorFunction\" === (ctor.displayName || ctor.name));\n  }, exports.mark = function (genFun) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, \"GeneratorFunction\")), genFun.prototype = Object.create(Gp), genFun;\n  }, exports.awrap = function (arg) {\n    return {\n      __await: arg\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    void 0 === PromiseImpl && (PromiseImpl = Promise);\n    var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl);\n    return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) {\n      return result.done ? result.value : iter.next();\n    });\n  }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, \"Generator\"), define(Gp, iteratorSymbol, function () {\n    return this;\n  }), define(Gp, \"toString\", function () {\n    return \"[object Generator]\";\n  }), exports.keys = function (val) {\n    var object = Object(val),\n      keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    return keys.reverse(), function next() {\n      for (; keys.length;) {\n        var key = keys.pop();\n        if (key in object) return next.value = key, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, exports.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(skipTempReset) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) {\n        \"t\" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined);\n      }\n    },\n    stop: function stop() {\n      this.done = !0;\n      var rootRecord = this.tryEntries[0].completion;\n      if (\"throw\" === rootRecord.type) throw rootRecord.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(exception) {\n      if (this.done) throw exception;\n      var context = this;\n      function handle(loc, caught) {\n        return record.type = \"throw\", record.arg = exception, context.next = loc, caught && (context.method = \"next\", context.arg = undefined), !!caught;\n      }\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i],\n          record = entry.completion;\n        if (\"root\" === entry.tryLoc) return handle(\"end\");\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\"),\n            hasFinally = hasOwn.call(entry, \"finallyLoc\");\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0);\n          } else {\n            if (!hasFinally) throw new Error(\"try statement without catch or finally\");\n            if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev && hasOwn.call(entry, \"finallyLoc\") && this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n      finallyEntry && (\"break\" === type || \"continue\" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null);\n      var record = finallyEntry ? finallyEntry.completion : {};\n      return record.type = type, record.arg = arg, finallyEntry ? (this.method = \"next\", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record);\n    },\n    complete: function complete(record, afterLoc) {\n      if (\"throw\" === record.type) throw record.arg;\n      return \"break\" === record.type || \"continue\" === record.type ? this.next = record.arg : \"return\" === record.type ? (this.rval = this.arg = record.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel;\n    },\n    finish: function finish(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel;\n      }\n    },\n    \"catch\": function _catch(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (\"throw\" === record.type) {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n      throw new Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(iterable, resultName, nextLoc) {\n      return this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      }, \"next\" === this.method && (this.arg = undefined), ContinueSentinel;\n    }\n  }, exports;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/typeof.js":
/*!*******************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/typeof.js ***!
  \*******************************************************/
/***/ ((module) => {

eval("function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(obj);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/@babel/runtime/helpers/typeof.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/regenerator/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@babel/runtime/regenerator/index.js ***!
  \**********************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

eval("function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n// TODO(Babel 8): Remove this file.\n\nvar runtime = __webpack_require__(/*! ../helpers/regeneratorRuntime */ \"./node_modules/@babel/runtime/helpers/regeneratorRuntime.js\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if ((typeof globalThis === \"undefined\" ? \"undefined\" : _typeof(globalThis)) === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/@babel/runtime/regenerator/index.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _asyncToGenerator)\n/* harmony export */ });\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\nfunction _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n      args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n      _next(undefined);\n    });\n  };\n}\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/classCallCheck.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/classCallCheck.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _classCallCheck)\n/* harmony export */ });\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js?");

/***/ }),

/***/ "./node_modules/@babel/runtime/helpers/esm/createClass.js":
/*!****************************************************************!*\
  !*** ./node_modules/@babel/runtime/helpers/esm/createClass.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ _createClass)\n/* harmony export */ });\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  Object.defineProperty(Constructor, \"prototype\", {\n    writable: false\n  });\n  return Constructor;\n}\n\n//# sourceURL=webpack://acode-plugin-gemini/./node_modules/@babel/runtime/helpers/esm/createClass.js?");

/***/ }),

/***/ "./plugin.json":
/*!*********************!*\
  !*** ./plugin.json ***!
  \*********************/
/***/ ((module) => {

"use strict";
eval("module.exports = JSON.parse('{\"id\":\"acode.plugin.gemini\",\"name\":\"Gemini\",\"main\":\"dist/main.js\",\"version\":\"1.0.0\",\"readme\":\"readme.md\",\"icon\":\"icon.png\",\"files\":[\"assets/gemini_avatar.svg\",\"assets/user_avatar.png\",\"assets/github-dark.css\",\"assets/highlight.min.js\",\"assets/markdown-it.min.js\"],\"price\":0,\"author\":{\"name\":\"Omprakash\",\"email\":\"omprxz@gmail.com\",\"github\":\"omprxz\"}}');\n\n//# sourceURL=webpack://acode-plugin-gemini/./plugin.json?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			id: moduleId,
/******/ 			loaded: false,
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/node module decorator */
/******/ 	(() => {
/******/ 		__webpack_require__.nmd = (module) => {
/******/ 			module.paths = [];
/******/ 			if (!module.children) module.children = [];
/******/ 			return module;
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/main.js");
/******/ 	
/******/ })()
;